{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/tsx/cube/CubeTypes.tsx","webpack:///./src/tsx/states/cube/CubeActions.tsx","webpack:///./src/tsx/utils/Vector4.tsx","webpack:///./src/tsx/utils/Matrix4.tsx","webpack:///./src/tsx/cube/algorithms/RotationCommand.tsx","webpack:///./src/tsx/states/LocalStorage.tsx","webpack:///./src/tsx/states/player/PlayerState.tsx","webpack:///./src/tsx/cube/CubeUtils.tsx","webpack:///./src/tsx/states/cube/CubeState.tsx","webpack:///./src/tsx/states/player/PlayerActions.tsx","webpack:///./src/tsx/cube/CubeArrows.tsx","webpack:///./src/tsx/states/States.tsx","webpack:///./src/tsx/utils/createClassName.tsx","webpack:///./src/tsx/cube/Arrow.tsx","webpack:///./src/tsx/cube/FaceArrows.tsx","webpack:///./src/tsx/cube/Face.tsx","webpack:///./src/tsx/cube/Cubicle.tsx","webpack:///./src/tsx/utils/Maybe.tsx","webpack:///./src/tsx/cube/algorithms/Parser.tsx","webpack:///./src/tsx/cube/RubiksCube.tsx","webpack:///./src/tsx/hooks/useComplexState.tsx","webpack:///./src/tsx/interface/Interface.tsx","webpack:///./src/tsx/interface/ColorPicker.tsx","webpack:///./src/tsx/interface/Settings.tsx","webpack:///./src/tsx/cube/algorithms/CFOP.tsx","webpack:///./src/tsx/cube/algorithms/Misc.tsx","webpack:///./src/tsx/interface/StartConfiguration.tsx","webpack:///./src/tsx/cube/algorithms/AlgorithmTree.tsx","webpack:///./src/tsx/interface/Algorithms.tsx","webpack:///./src/tsx/interface/Category.tsx","webpack:///./src/tsx/interface/Player.tsx","webpack:///./src/tsx/App.tsx","webpack:///./src/tsx/states/cube/CubeEpics.tsx","webpack:///./src/tsx/states/player/PlayerEpics.tsx","webpack:///./src/tsx/states/Epics.tsx","webpack:///./src/tsx/states/Store.tsx","webpack:///./src/index.tsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Color","Side","Direction","FaceArrowDirection","actions","setCubeDimension","setCubeScale","setRotationAnimationSpeed","updateCubicles","applyRotationCommands","resetCube","setColor","payload","resetColors","dot","a","b","map","reduce","toRadian","degree","Math","PI","fromTranslation","x","y","z","fromAngleX","radian","sin","cos","fromAngleY","fromScale","scale","transpose","w","multiply","x2","y2","z2","w2","aTransposed","point","mat","row","toCss","flat","join","RotationAxis","isLoopedRotationCommands","rotationCommand","undefined","iterations","loadedColorMap","PlayerStatus","rotationCommandToMat4","axis","rotation","X","Y","Z","rotationCommandToCssRotation","letterToAxis","letter","toUpperCase","Error","letterToSlices","cubeDimension","middleSlice","ceil","letterToRotation","wide","hasWide","slices","prime","hasPrime","hasDouble","sign","isError","status","isOk","sideToColor","FRONT","BLUE","BACK","GREEN","LEFT","ORANGE","RIGHT","RED","UP","YELLOW","DOWN","WHITE","sideToTransform","side","cubicleSize","halfCubicleSize","axisToTranslation","cubicleGap","offset","sizeGap","rotateAxis","it","index","round","isOuterFace","generateCubicles","indexes","flatMap","filter","some","isCubicleVisible","id","faces","values","color","DEFAULT","transform","generateFace","canApplyRotationCommand","cubeAxis","includes","applyRotationCommand","cubicles","cubicles2","_","commands","cubicles3","command","cubicle","rotationMat","generateFaceArrowCommand","cubicleRotation","originalSide","faceArrow","down","right","rotatedPoint","newCubeAxis","findIndex","abs","defaultColorMap","TRANSPARENT","initialCubeState","dimension","size","gapFactor","rotationDuration","colorMap","localStorage","getItem","JSON","parse","cubeReducer","builder","addCase","state","action","_action","play","stop","pause","unPause","updateNotation","parsedNotation","setCurrentRotationCommand","initialPlayerState","notation","rotationCommands","STOPPED","playerReducer","PLAYING","PAUSED","currentCommand","reducer","cube","player","useRedux","selector","isClassNameList","arg","classNames","className","hasClasses","keys","memo","x1","y1","style","FaceArrow","direction","rotate","onClick","width","height","viewBox","generateArrowCommand","isHovered","setHovered","dispatch","backgroundColor","onMouseEnter","onMouseLeave","animatedTransform","transition","isSome","isNone","unwrap","expect","errorMsg","unwrapOr","defaultValue","ifIsSome","onSome","ifIsNone","onNone","equals","maybe","contains","Maybe","none","of","tryOf","valueFunction","e","this","mapOr","predicate","and","other","or","xor","that","try","makeNotationParser","createLanguage","separator","alt","optWhitespace","then","comma","lookahead","lParenthesis","rParenthesis","eof","whitespace","atLeast","string","desc","lBracket","rBracket","regexp","fallback","double","number","Number","numberInDimension","input","matched","substr","match","numStr","num","makeSuccess","makeFailure","trim","sepBy1","nums","sort","wrap","sliceableLetter","notSliceableLetter","simpleCommand","seq","slicedCommand","succeed","loop","skip","many","halfSize","cursor","position","yStyle","arrow","rotateWithNotation","tryParse","ANTI_CLOCKWISE","CLOCKWISE","Cubicles","currentRotationCommand","cubeSize","isStopped","transformStyle","Menu","initialState","setState","newState","prevState","selectedColor","pickerColor","colors","entries","ClickAwayListener","onClickAway","disableAlpha","onChange","hex","onChangeComplete","Button","rotationAnimationSpeed","isDisabled","List","disablePadding","dense","ListItem","Typography","Slider","valueLabelDisplay","marks","step","min","max","onChangeCommitted","event","disabled","groups","algorithms","startConfiguration","configuration","transparentColor","rowIndex","colorIndex","Fragment","gridRow","gridColumn","joinNames","flattenTree","tree","isAlgorithmGroup","group","categories","algorithm","playerStatus","filteredCategories","setFilteredCategories","ListSubheader","TextField","label","fullWidth","searchValue","target","toLocaleLowerCase","Divider","button","transparent","ListItemText","primary","secondary","title","isOpen","setMenu","children","Accordion","expanded","TransitionProps","unmountOnExit","AccordionSummary","expandIcon","AccordionDetails","NotationError","error","substring","padEnd","expected","Chip","playerNotation","hasParseError","isNotationEmpty","spellCheck","multiline","IconButton","Pause","PlayArrow","Stop","SkipNext","letters","split","moves","prevLetter","prevIsPrime","randomLetter","isPrime","forEach","createRandomNotation","Shuffle","Refresh","SETTINGS","openedMenu","setOpenedMenu","menu","prevMenu","NONE","ALGORITHMS","cubeEpics","action$","state$","pipe","type","withLatestFrom","subscribe","setItem","stringify","singleRotationCommandGenerator","playerEpics","play$","unPause$","stop$","rotationCommandGenerator","rotationCommandDelay$","Subject","next","setCurrentRotationCommand$","transitionEnd$","fromEvent","propertyName","applyRotationCommand$","concatMap","first","mapTo","delay","merge","epics","combineEpics","epicMiddleWare","createEpicMiddleware","middleware","thunk","setupStore","store","run","addEventListener","load","removeEventListener","render","document","getElementById"],"mappings":"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CNiM,SAAU,mBACVgK,mBAAoB,CAChB,CACIzL,GACAA,GACAA,GACAA,GACAA,IAEJ,CACIA,GACA1B,GACAA,GACAA,GACA0B,IAEJ,CACIA,GACA1B,GACA1B,GACAA,GACAoD,IAEJ,CACIA,GACA1B,GACA1B,GACA0B,GACA0B,IAEJ,CACIA,GACAA,GACAA,GACAA,GACAA,MAIZ,CACIxK,KAAM,OACNiM,SAAU,mBACVgK,mBAAoB,CAChB,CACIzL,GACAA,GACAA,GACAA,GACAA,IAEJ,CACIA,GACA1B,GACAA,GACAA,GACA0B,IAEJ,CACIA,GACApD,GACAA,GACAA,GACAoD,IAEJ,CACIA,GACA1B,GACAA,GACAA,GACA0B,IAEJ,CACIA,GACAA,GACAA,GACAA,GACAA,QAMpB,CACIxK,KAAM,UACN+V,OAAQ,CACJ,CACI/V,KAAM,oBACNgW,WAAY,CACR,CACIhW,KAAM,IACNiM,SAAU,oBACVgK,mBAAoB,CAChB,CACIzL,GACApD,GACAoD,GACApD,GACAoD,IAEJ,CACIA,GACA1B,GACA1B,GACA0B,GACA0B,IAEJ,CACIA,GACApD,GACAA,GACAA,GACAoD,IAEJ,CACIA,GACA1B,GACA1B,GACA0B,GACA0B,IAEJ,CACIA,GACApD,GACAoD,GACApD,GACAoD,MAIZ,CACIxK,KAAM,KACNiM,SAAU,6BACVgK,mBAAoB,CAChB,CACIzL,GACAA,GACAA,GACApD,GACAoD,IAEJ,CACIpD,GACA0B,GACA1B,GACA0B,GACA0B,IAEJ,CACIA,GACApD,GACAA,GACAA,GACAoD,IAEJ,CACIpD,GACA0B,GACA1B,GACA0B,GACA0B,IAEJ,CACIA,GACAA,GACAA,GACApD,GACAoD,QAMpB,CACIxK,KAAM,kBACNgW,WAAY,CACR,CACIhW,KAAM,OACNiM,SAAU,mBACVgK,mBAAoB,CAChB,CACIzL,GACApD,GACAoD,GACAA,GACAA,IAEJ,CACIA,GACA1B,GACA1B,GACA0B,GACA1B,IAEJ,CACIoD,GACApD,GACAA,GACAA,GACAoD,IAEJ,CACIA,GACApD,GACAA,GACA0B,GACA0B,IAEJ,CACIA,GACAA,GACAA,GACApD,GACAoD,MAIZ,CACIxK,KAAM,YACNiM,SAAU,qBACVgK,mBAAoB,CAChB,CACIzL,GACAA,GACAA,GACApD,GACAoD,IAEJ,CACIpD,GACA0B,GACA1B,GACA0B,GACA0B,IAEJ,CACIA,GACApD,GACAA,GACAA,GACAoD,IAEJ,CACIA,GACA1B,GACA1B,GACAA,GACAoD,IAEJ,CACIA,GACApD,GACAoD,GACAA,GACAA,QAMpB,CACIxK,KAAM,mBACNgW,WAAY,CACR,CACIhW,KAAM,IACNiM,SAAU,+BACVgK,mBAAoB,CAChB,CACIzL,GACAA,GACAA,GACAA,GACAA,IAEJ,CACIA,GACApD,GACAA,GACA0B,GACA1B,IAEJ,CACIoD,GACApD,GACAA,GACAA,GACAoD,IAEJ,CACIA,GACA1B,GACA1B,GACAA,GACAoD,IAEJ,CACIA,GACApD,GACAoD,GACAA,GACAA,MAIZ,CACIxK,KAAM,IACNiM,SAAU,+BACVgK,mBAAoB,CAChB,CACIzL,GACApD,GACAoD,GACAA,GACAA,IAEJ,CACIA,GACA1B,GACA1B,GACAA,GACAoD,IAEJ,CACIA,GACApD,GACAA,GACAA,GACAoD,IAEJ,CACIA,GACA1B,GACA1B,GACAA,GACAoD,IAEJ,CACIA,GACApD,GACAoD,GACAA,GACAA,MAIZ,CACIxK,KAAM,IACNiM,SAAU,2BACVgK,mBAAoB,CAChB,CACIzL,GACAA,GACAA,GACAA,GACAA,IAEJ,CACIA,GACApD,GACAA,GACAA,GACAoD,IAEJ,CACIA,GACApD,GACAA,GACAA,GACAoD,IAEJ,CACIA,GACA1B,GACA1B,GACA0B,GACA0B,IAEJ,CACIA,GACApD,GACAoD,GACApD,GACAoD,UAQ5B,CACIxK,KAAM,SACNgW,WAAY,CACR,CACIhW,KAAM,eACNiM,SACI,+DACJgK,mBAAoB,CAChB,CACIzL,GACAA,GACAA,GACAA,GACAA,GACAA,IAEJ,CACIA,GACApD,GACAA,GACAA,GACAA,GACAoD,IAEJ,CACIA,GACApD,GACAA,GACAA,GACAA,GACAoD,IAEJ,CACIA,GACApD,GACAA,GACAA,GACAA,GACAoD,IAEJ,CACIA,GACApD,GACA0B,GACAA,GACA1B,GACAoD,IAEJ,CACIA,GACAA,GACApD,GACAA,GACAoD,GACAA,UAQ5B,CACIxK,KAAM,MACN+V,OAAQ,CACJ,CACI/V,KAAM,UACNgW,WAAY,CACR,CACIhW,KAAM,WACNiM,SACI,iDACJgK,mBAAoB,CAChB,CACIzL,GACA1B,GACA0B,GACA1B,GACA0B,IAEJ,CAAC1B,GAAS1B,GAAQA,GAAQA,GAAQ0B,IAClC,CACI0B,GACApD,GACAA,GACAA,GACAoD,IAEJ,CAAC1B,GAAS1B,GAAQA,GAAQA,GAAQ0B,IAClC,CACI0B,GACA1B,GACA0B,GACA1B,GACA0B,MAIZ,CACIxK,KAAM,WACNiM,SACI,2CACJgK,mBAAoB,CAChB,CACIzL,GACA1B,GACA0B,GACA1B,GACA0B,IAEJ,CAACxD,GAAQI,GAAQA,GAAQA,GAAQ0B,IACjC,CACI0B,GACApD,GACAA,GACAA,GACAoD,IAEJ,CAACxD,GAAQI,GAAQA,GAAQA,GAAQ0B,IACjC,CACI0B,GACA1B,GACA0B,GACA1B,GACA0B,QAMpB,CACIxK,KAAM,QACN+V,OAAQ,CACJ,CACI/V,KAAM,UACNgW,WAAY,CACR,CACIhW,KAAM,gBACNiM,SAAU,6BACVgK,mBAAoB,CAChB,CACIzL,GACA1D,GACAA,GACAA,GACA0D,IAEJ,CACIxD,GACAI,GACAA,GACAA,GACAoD,IAEJ,CACI1B,GACA1B,GACAA,GACAA,GACAJ,IAEJ,CACIA,GACAI,GACAA,GACAA,GACAoD,IAEJ,CACIA,GACA5D,GACAkC,GACAlC,GACA4D,MAIZ,CACIxK,KAAM,gBACNiM,SAAU,+BACVgK,mBAAoB,CAChB,CACIzL,GACA1D,GACAA,GACAA,GACA0D,IAEJ,CACIA,GACApD,GACAA,GACAA,GACAF,IAEJ,CAACA,GAAKE,GAAQA,GAAQA,GAAQ0B,IAC9B,CACI0B,GACApD,GACAA,GACAA,GACAF,IAEJ,CACIsD,GACA5D,GACAkC,GACAlC,GACA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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([506,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { Mat4 } from '../utils/Matrix4';\n\nexport type CubeAxis = [number, number, number];\n\nexport enum Color {\n    BLUE = '#3d81f6',\n    GREEN = '#009d54',\n    RED = '#dc422f',\n    ORANGE = '#ff6c00',\n    WHITE = '#ffffff',\n    YELLOW = '#fdcc09',\n    DEFAULT = '#383838',\n    TRANSPARENT = 'transparent',\n}\n\nexport type ColorMap = {\n    [key in Color]: string;\n};\n\nexport enum Side {\n    FRONT = 'FRONT',\n    BACK = 'BACK',\n    LEFT = 'LEFT',\n    RIGHT = 'RIGHT',\n    UP = 'UP',\n    DOWN = 'DOWN',\n}\n\nexport enum Direction {\n    CLOCKWISE = 1,\n    ANTI_CLOCKWISE = -1,\n}\n\nexport enum FaceArrowDirection {\n    UP = 180,\n    LEFT = 90,\n    RIGHT = -90,\n    DOWN = 0,\n}\n\nexport interface IFace {\n    id: Side;\n    color: Color;\n    transform: Mat4;\n}\n\nexport interface ICubicle {\n    id: CubeAxis;\n    axis: CubeAxis;\n    faces: IFace[];\n    transform: Mat4;\n}\n","import { createAction } from '@reduxjs/toolkit';\nimport { Color, ICubicle } from '../../cube/CubeTypes';\nimport { RotationCommand } from '../../cube/algorithms/RotationCommand';\n\nconst setCubeDimension = createAction<number>('SET_CUBE_DIMENSION');\n\nconst setCubeScale = createAction<number>('SET_CUBE_SCALE');\n\nconst setRotationAnimationSpeed = createAction<number>(\n    'SET_ROTATION_ANIMATION_SPEED'\n);\n\nconst updateCubicles = createAction<ICubicle[]>('UPDATE_CUBICLES');\n\nconst applyRotationCommands = createAction<RotationCommand[]>(\n    'APPLY_ROTATION_COMMANDS'\n);\n\nconst resetCube = createAction('RESET_CUBE');\n\nconst setColor = createAction('SET_COLOR', (key: Color, value: string) => ({\n    payload: {\n        key,\n        value,\n    },\n}));\n\nconst resetColors = createAction('RESET_COLORS');\n\nconst actions = {\n    setCubeDimension,\n    setCubeScale,\n    setRotationAnimationSpeed,\n    updateCubicles,\n    applyRotationCommands,\n    resetCube,\n    setColor,\n    resetColors,\n};\n\nexport { actions as cubeActions };\n","import { zip, add } from 'lodash';\n\nexport type Vec4 = [number, number, number, number];\n\nexport const dot = (a: Vec4, b: Vec4) =>\n    zip(a, b)\n        .map(([a, b]) => (a ?? 0) * (b ?? 0))\n        .reduce(add, 0.0);\n","import { zip, partial } from 'lodash';\nimport { dot, Vec4 } from './Vector4';\n\nexport type Mat4 = [Vec4, Vec4, Vec4, Vec4];\n\nconst toRadian = (degree: number) => (degree / 180) * Math.PI;\n\nexport const identity: Mat4 = [\n    [1.0, 0.0, 0.0, 0.0],\n    [0.0, 1.0, 0.0, 0.0],\n    [0.0, 0.0, 1.0, 0.0],\n    [0.0, 0.0, 0.0, 1.0],\n];\n\nexport const fromTranslation = (x: number, y: number, z: number): Mat4 => [\n    [1.0, 0.0, 0.0, 0.0],\n    [0.0, 1.0, 0.0, 0.0],\n    [0.0, 0.0, 1.0, 0.0],\n    [x, y, z, 1.0],\n];\n\nexport const fromAngleX = (degree: number): Mat4 => {\n    const radian = toRadian(degree);\n    const sin = Math.sin(radian);\n    const cos = Math.cos(radian);\n\n    return [\n        [1.0, 0.0, 0.0, 0.0],\n        [0.0, cos, sin, 0.0],\n        [0.0, -sin, cos, 0.0],\n        [0.0, 0.0, 0.0, 1.0],\n    ];\n};\n\nexport const fromAngleY = (degree: number): Mat4 => {\n    const radian = toRadian(degree);\n    const sin = Math.sin(radian);\n    const cos = Math.cos(radian);\n\n    return [\n        [cos, 0.0, -sin, 0.0],\n        [0.0, 1.0, 0.0, 0.0],\n        [sin, 0.0, cos, 0.0],\n        [0.0, 0.0, 0.0, 1.0],\n    ];\n};\n\nexport const fromAngleZ = (degree: number): Mat4 => {\n    const radian = toRadian(degree);\n    const sin = Math.sin(radian);\n    const cos = Math.cos(radian);\n\n    return [\n        [cos, sin, 0.0, 0.0],\n        [-sin, cos, 0.0, 0.0],\n        [0.0, 0.0, 1.0, 0.0],\n        [0.0, 0.0, 0.0, 1.0],\n    ];\n};\n\nexport const fromScale = (scale: number): Mat4 => [\n    [scale, 0.0, 0.0, 0.0],\n    [0.0, scale, 0.0, 0.0],\n    [0.0, 0.0, scale, 0.0],\n    [0.0, 0.0, 0.0, 1.0],\n];\n\nexport const transpose = ([x, y, z, w]: Mat4): Mat4 => zip(x, y, z, w) as Mat4;\n\nexport const multiply = (a: Mat4, [x2, y2, z2, w2]: Mat4): Mat4 => {\n    const aTransposed = transpose(a);\n    return [\n        aTransposed.map(partial(dot, x2)),\n        aTransposed.map(partial(dot, y2)),\n        aTransposed.map(partial(dot, z2)),\n        aTransposed.map(partial(dot, w2)),\n    ] as Mat4;\n};\n\nexport const apply = (point: Vec4, mat: Mat4): Vec4 =>\n    transpose(mat).map((row) => dot(row, point)) as Vec4;\n\nexport const toCss = (mat: Mat4): string => `matrix3d(${mat.flat().join(',')})`;\n","import { range } from 'lodash';\nimport { Failure, Result, Success } from 'parsimmon';\nimport { fromAngleX, fromAngleY, fromAngleZ, Mat4 } from '../../utils/Matrix4';\n\nexport interface SingleRotationCommand {\n    readonly axis: RotationAxis;\n    readonly slices: number[];\n    readonly rotation: number;\n}\n\nexport interface LoopedRotationCommands {\n    readonly commands: RotationCommand[];\n    readonly iterations: number;\n}\n\nexport type RotationCommand = SingleRotationCommand | LoopedRotationCommands;\n\nexport const isLoopedRotationCommands = (\n    rotationCommand: RotationCommand\n): rotationCommand is LoopedRotationCommands =>\n    (rotationCommand as LoopedRotationCommands).iterations !== undefined;\n\nexport enum RotationAxis {\n    X = 0,\n    Y = 1,\n    Z = 2,\n}\n\nexport const rotationCommandToMat4 = ({\n    axis,\n    rotation,\n}: SingleRotationCommand): Mat4 => {\n    switch (axis) {\n        case RotationAxis.X: {\n            return fromAngleX(rotation);\n        }\n        case RotationAxis.Y: {\n            return fromAngleY(rotation);\n        }\n        case RotationAxis.Z: {\n            return fromAngleZ(rotation);\n        }\n    }\n};\n\nexport const rotationCommandToCssRotation = ({\n    axis,\n    rotation,\n}: SingleRotationCommand): string => {\n    switch (axis) {\n        case RotationAxis.X: {\n            return `rotateX(${rotation}deg)`;\n        }\n        case RotationAxis.Y: {\n            return `rotateY(${rotation}deg)`;\n        }\n        case RotationAxis.Z: {\n            return `rotateZ(${rotation}deg)`;\n        }\n    }\n};\n\nexport const letterToAxis = (letter: string): RotationAxis => {\n    switch (letter.toUpperCase()) {\n        case 'L':\n        case 'R':\n        case 'M':\n        case 'X':\n            return RotationAxis.X;\n        case 'U':\n        case 'D':\n        case 'E':\n        case 'Y':\n            return RotationAxis.Y;\n        case 'F':\n        case 'B':\n        case 'S':\n        case 'Z':\n            return RotationAxis.Z;\n        default:\n            throw new Error(`${letter} is not a valid cube notation Letter!`);\n    }\n};\n\nexport const letterToSlices = (\n    letter: string,\n    cubeDimension: number\n): number[] => {\n    switch (letter) {\n        case 'F':\n        case 'U':\n        case 'L':\n            return [1];\n        case 'f':\n        case 'u':\n        case 'l':\n            if (cubeDimension < 3) {\n                return [1];\n            } else if (cubeDimension > 3) {\n                return [2];\n            } else {\n                return [1, 2];\n            }\n        case 'B':\n        case 'D':\n        case 'R':\n            return [cubeDimension];\n        case 'b':\n        case 'd':\n        case 'r':\n            if (cubeDimension < 3) {\n                return [cubeDimension];\n            } else if (cubeDimension > 3) {\n                return [cubeDimension - 1];\n            } else {\n                return [cubeDimension - 1, cubeDimension];\n            }\n        case 'X':\n        case 'Y':\n        case 'Z':\n        case 'x':\n        case 'y':\n        case 'z':\n            return range(1, cubeDimension + 1);\n        case 'M':\n        case 'E':\n        case 'S':\n            return (() => {\n                const middleSlice = Math.ceil(cubeDimension / 2);\n                return cubeDimension % 2 === 0\n                    ? [middleSlice, middleSlice + 1]\n                    : [middleSlice];\n            })();\n        case 'm':\n        case 'e':\n        case 's':\n            switch (cubeDimension) {\n                case 1:\n                    return [1];\n                case 2:\n                    return [1, 2];\n                default:\n                    return range(2, cubeDimension);\n            }\n        default:\n            throw new Error(`${letter} is not a valid cube notation Letter!`);\n    }\n};\n\nexport const letterToRotation = (letter: string): number => {\n    switch (letter.toUpperCase()) {\n        case 'F':\n        case 'D':\n        case 'R':\n        case 'E': // Same as D\n        case 'S': // Same as F\n        case 'X': // Same as R\n        case 'Z': // Same as F\n            return 90;\n        case 'B':\n        case 'U':\n        case 'L':\n        case 'M': // Same as L\n        case 'Y': // Same as U\n            return -90;\n        default:\n            throw new Error(`${letter} is not a valid cube notation Letter!`);\n    }\n};\n\nexport const wide = (hasWide: boolean) => (\n    letter: string,\n    slices: number[],\n    cubeDimension: number\n): number[] => {\n    if (hasWide) {\n        switch (letter.toUpperCase()) {\n            case 'B':\n            case 'D':\n            case 'R':\n                return range(cubeDimension - slices[0] + 1, cubeDimension + 1);\n            default:\n                return range(1, slices[0] + 1);\n        }\n    } else {\n        switch (letter.toUpperCase()) {\n            case 'B':\n            case 'D':\n            case 'R':\n                return slices.map((slice) => cubeDimension + 1 - slice);\n            default:\n                return slices;\n        }\n    }\n};\n\nexport const prime = (hasPrime: boolean) => (rotation: number): number =>\n    hasPrime ? rotation * -1 : rotation;\nexport const double = (hasDouble: boolean) => (rotation: number): number =>\n    hasDouble ? Math.sign(rotation) * 180 : rotation;\n\nexport const isError = (result: Result<RotationCommand[]>): result is Failure =>\n    !result.status;\n\nexport const isOk = (\n    result: Result<RotationCommand[]>\n): result is Success<RotationCommand[]> => result.status;\n","import { Color, ColorMap } from '../cube/CubeTypes';\n\nexport const COLOR_MAP = 'colorMap';\n\nexport const defaultColorMap: ColorMap = {\n    [Color.BLUE]: Color.BLUE,\n    [Color.GREEN]: Color.GREEN,\n    [Color.RED]: Color.RED,\n    [Color.ORANGE]: Color.ORANGE,\n    [Color.WHITE]: Color.WHITE,\n    [Color.YELLOW]: Color.YELLOW,\n    [Color.DEFAULT]: Color.DEFAULT,\n    [Color.TRANSPARENT]: Color.TRANSPARENT,\n};\n\nexport const loadColorMap = (): ColorMap => {\n    const loadedColorMap = localStorage.getItem(COLOR_MAP);\n    if (loadedColorMap) {\n        return JSON.parse(loadedColorMap) as ColorMap;\n    } else {\n        return defaultColorMap;\n    }\n};\n","import { createReducer } from '@reduxjs/toolkit';\nimport { playerActions } from './PlayerActions';\nimport {\n    RotationCommand,\n    SingleRotationCommand,\n} from '../../cube/algorithms/RotationCommand';\nimport { Result } from 'parsimmon';\nimport { cubeActions } from '../cube/CubeActions';\n\nexport enum PlayerStatus {\n    STOPPED = 'STOPPED',\n    PLAYING = 'PLAYING',\n    PAUSED = 'PAUSED',\n}\n\nexport interface IPlayerState {\n    notation: string;\n    rotationCommands: Result<RotationCommand[]>;\n    currentCommand?: SingleRotationCommand;\n    status: PlayerStatus;\n}\n\nconst initialPlayerState: IPlayerState = {\n    notation: '',\n    rotationCommands: { status: true, value: [] },\n    status: PlayerStatus.STOPPED,\n};\n\nexport const playerReducer = createReducer(initialPlayerState, (builder) => {\n    builder\n        .addCase(playerActions.updateNotation, (state, action) => {\n            state.notation = action.payload;\n        })\n        .addCase(playerActions.parsedNotation, (state, action) => {\n            state.rotationCommands = action.payload;\n        })\n        .addCase(playerActions.play, (state, _action) => {\n            state.status = PlayerStatus.PLAYING;\n        })\n        .addCase(playerActions.unPause, (state, _action) => {\n            state.status = PlayerStatus.PLAYING;\n        })\n        .addCase(playerActions.pause, (state, _action) => {\n            state.status = PlayerStatus.PAUSED;\n        })\n        .addCase(playerActions.stop, (state, _action) => {\n            state.status = PlayerStatus.STOPPED;\n        })\n        .addCase(playerActions.setCurrentRotationCommand, (state, action) => {\n            state.currentCommand = action.payload;\n        })\n        .addCase(cubeActions.applyRotationCommands, (state, _action) => {\n            state.currentCommand = undefined;\n        });\n});\n","import { range, zip, curry } from 'lodash';\nimport {\n    ICubicle,\n    IFace,\n    CubeAxis,\n    Color,\n    Side,\n    FaceArrowDirection,\n} from './CubeTypes';\nimport {\n    Mat4,\n    multiply,\n    fromTranslation,\n    fromAngleY,\n    fromAngleX,\n    apply,\n} from '../utils/Matrix4';\nimport { Vec4 } from '../utils/Vector4';\nimport {\n    RotationCommand,\n    isLoopedRotationCommands,\n    rotationCommandToMat4,\n    SingleRotationCommand,\n} from './algorithms/RotationCommand';\n\nconst sideToColor = {\n    [Side.FRONT]: Color.BLUE,\n    [Side.BACK]: Color.GREEN,\n    [Side.LEFT]: Color.ORANGE,\n    [Side.RIGHT]: Color.RED,\n    [Side.UP]: Color.YELLOW,\n    [Side.DOWN]: Color.WHITE,\n};\n\nconst sideToTransform = (side: Side, cubicleSize: number): Mat4 => {\n    const halfCubicleSize = cubicleSize / 2.0;\n    return {\n        [Side.FRONT]: fromTranslation(0, 0, halfCubicleSize),\n        [Side.BACK]: multiply(\n            fromTranslation(0, 0, -halfCubicleSize),\n            fromAngleY(180)\n        ),\n        [Side.LEFT]: multiply(\n            fromTranslation(-halfCubicleSize, 0, 0),\n            fromAngleY(-90)\n        ),\n        [Side.RIGHT]: multiply(\n            fromTranslation(halfCubicleSize, 0, 0),\n            fromAngleY(90)\n        ),\n        [Side.UP]: multiply(\n            fromTranslation(0, -halfCubicleSize, 0),\n            fromAngleX(90)\n        ),\n        [Side.DOWN]: multiply(\n            fromTranslation(0, halfCubicleSize, 0),\n            fromAngleX(-90)\n        ),\n    }[side];\n};\n\nconst axisToTranslation = (\n    [x, y, z]: CubeAxis,\n    cubicleSize: number,\n    cubicleGap: number,\n    cubeDimension: number\n): Mat4 => {\n    const offset = (cubeDimension + 1) * cubicleSize * (cubicleGap / 2);\n    const sizeGap = cubicleSize * cubicleGap;\n    return fromTranslation(\n        x * sizeGap - offset,\n        y * sizeGap - offset,\n        -z * sizeGap + offset\n    );\n};\n\nexport const rotateAxis = (\n    axis: CubeAxis,\n    rotation: Mat4,\n    cubeDimension: number\n): CubeAxis => {\n    const offset = (cubeDimension + 1) * 0.5;\n    const point = axis.map((it, index) =>\n        index === 2 ? -it + offset : it - offset\n    );\n    const rotatedPoint = apply([...point, 1] as Vec4, rotation).slice(0, 3);\n    return rotatedPoint\n        .map((it, index) => (index === 2 ? -it + offset : it + offset))\n        .map(Math.round) as CubeAxis;\n};\n\nconst isCubicleVisible = (axis: CubeAxis, cubeDimension: number) =>\n    axis.some((it) => it === 1 || it === cubeDimension);\n\nconst isOuterFace = (side: Side, [x, y, z]: CubeAxis, cubeDimension: number) =>\n    ({\n        [Side.FRONT]: z === 1,\n        [Side.BACK]: z === cubeDimension,\n        [Side.LEFT]: x === 1,\n        [Side.RIGHT]: x === cubeDimension,\n        [Side.UP]: y === 1,\n        [Side.DOWN]: y === cubeDimension,\n    }[side]);\n\nconst generateFace = (\n    side: Side,\n    axis: CubeAxis,\n    cubicleSize: number,\n    cubeDimension: number\n): IFace => ({\n    id: side,\n    color: isOuterFace(side, axis, cubeDimension)\n        ? sideToColor[side]\n        : Color.DEFAULT,\n    transform: sideToTransform(side, cubicleSize),\n});\n\nexport const generateCubicles = (\n    cubicleSize: number,\n    cubicleGap: number,\n    cubeDimension: number\n): ICubicle[] => {\n    const indexes = range(1, cubeDimension + 1);\n    return indexes\n        .flatMap((z) =>\n            indexes.flatMap((y) => indexes.map<CubeAxis>((x) => [x, y, z]))\n        )\n        .filter((axis) => isCubicleVisible(axis, cubeDimension))\n        .map<ICubicle>((axis) => ({\n            id: axis,\n            axis,\n            faces: Object.values(Side).map((side) =>\n                generateFace(side, axis, cubicleSize, cubeDimension)\n            ),\n            transform: axisToTranslation(\n                axis,\n                cubicleSize,\n                cubicleGap,\n                cubeDimension\n            ),\n        }));\n};\n\nexport const canApplyRotationCommand = (\n    cubeAxis: CubeAxis,\n    { slices, axis }: SingleRotationCommand\n): boolean => slices.includes(cubeAxis[axis]);\n\nexport const applyRotationCommand = (\n    cubicles: ICubicle[],\n    rotationCommand: RotationCommand,\n    cubeDimension: number\n): ICubicle[] => {\n    if (isLoopedRotationCommands(rotationCommand)) {\n        return range(0, rotationCommand.iterations).reduce(\n            (cubicles2, _) =>\n                rotationCommand.commands.reduce(\n                    (cubicles3, command) =>\n                        applyRotationCommand(cubicles3, command, cubeDimension),\n                    cubicles2\n                ),\n            cubicles\n        );\n    } else {\n        return cubicles.map((cubicle) => {\n            if (canApplyRotationCommand(cubicle.axis, rotationCommand)) {\n                const rotationMat = rotationCommandToMat4(rotationCommand);\n                return {\n                    ...cubicle,\n                    axis: rotateAxis(cubicle.axis, rotationMat, cubeDimension),\n                    transform: multiply(rotationMat, cubicle.transform),\n                };\n            } else {\n                return cubicle;\n            }\n        });\n    }\n};\n\nexport const generateFaceArrowCommand = curry(\n    (\n        cubeAxis: CubeAxis,\n        cubicleRotation: Mat4,\n        originalSide: Side,\n        faceArrow: FaceArrowDirection\n    ): SingleRotationCommand => {\n        // TODO find a way to calculate this from existing matrices\n        const [down, right] = {\n            [Side.FRONT]: [\n                [-1, 0, 0],\n                [0, 1, 0],\n            ],\n            [Side.BACK]: [\n                [1, 0, 0],\n                [0, 1, 0],\n            ],\n            [Side.LEFT]: [\n                [0, 0, -1],\n                [0, 1, 0],\n            ],\n            [Side.RIGHT]: [\n                [0, 0, 1],\n                [0, 1, 0],\n            ],\n            [Side.UP]: [\n                [-1, 0, 0],\n                [0, 0, 1],\n            ],\n            [Side.DOWN]: [\n                [-1, 0, 0],\n                [0, 0, -1],\n            ],\n        }[originalSide];\n\n        const point = {\n            [FaceArrowDirection.DOWN]: down,\n            [FaceArrowDirection.RIGHT]: right,\n            [FaceArrowDirection.UP]: down.map((it) => it * -1),\n            [FaceArrowDirection.LEFT]: right.map((it) => it * -1),\n        }[faceArrow];\n\n        const rotatedPoint = apply([...point, 0] as Vec4, cubicleRotation)\n            .slice(0, 3)\n            .map(Math.round);\n\n        const newCubeAxis = zip(cubeAxis, rotatedPoint).map(\n            ([it, sign]) => it! * sign!\n        );\n\n        const axis = newCubeAxis.findIndex((it) => it !== 0);\n        const slice = newCubeAxis[axis];\n\n        return {\n            axis,\n            slices: [Math.abs(slice)],\n            rotation: 90 * Math.sign(slice),\n        };\n    }\n);\n","import { createReducer } from '@reduxjs/toolkit';\nimport { cubeActions } from './CubeActions';\nimport { ColorMap, ICubicle } from '../../cube/CubeTypes';\nimport { fromAngleX, fromAngleY, Mat4, multiply } from '../../utils/Matrix4';\nimport { applyRotationCommand } from '../../cube/CubeUtils';\nimport { defaultColorMap, loadColorMap } from '../LocalStorage';\n\nexport interface ICubeState {\n    dimension: number;\n    size: number;\n    gapFactor: number;\n    scale: number;\n    rotationDuration: number;\n    cubicles: ICubicle[];\n    rotation: Mat4;\n    colorMap: ColorMap;\n}\n\nconst initialCubeState: ICubeState = {\n    dimension: 3,\n    size: 300,\n    gapFactor: 1.01,\n    scale: 1.0,\n    rotationDuration: 750,\n    cubicles: [],\n    rotation: multiply(fromAngleX(-45), fromAngleY(-45)),\n    colorMap: loadColorMap(),\n};\n\nexport const cubeReducer = createReducer(initialCubeState, (builder) => {\n    builder\n        .addCase(cubeActions.setCubeDimension, (state, action) => {\n            state.dimension = action.payload;\n        })\n        .addCase(cubeActions.setCubeScale, (state, action) => {\n            state.scale = action.payload;\n        })\n        .addCase(cubeActions.setRotationAnimationSpeed, (state, action) => {\n            state.rotationDuration = action.payload;\n        })\n        .addCase(cubeActions.updateCubicles, (state, action) => {\n            state.cubicles = action.payload;\n        })\n        .addCase(cubeActions.applyRotationCommands, (state, action) => {\n            state.cubicles = action.payload.reduce(\n                (cubicles, command) =>\n                    applyRotationCommand(cubicles, command, state.dimension),\n                state.cubicles\n            );\n        })\n        .addCase(cubeActions.setColor, (state, action) => {\n            state.colorMap[action.payload.key] = action.payload.value;\n        })\n        .addCase(cubeActions.resetColors, (state, _action) => {\n            state.colorMap = defaultColorMap;\n        });\n});\n","import { createAction } from '@reduxjs/toolkit';\nimport { Result } from 'parsimmon';\nimport {\n    RotationCommand,\n    SingleRotationCommand,\n} from '../../cube/algorithms/RotationCommand';\n\nconst play = createAction<RotationCommand[]>('PLAY');\nconst stop = createAction('STOP');\nconst pause = createAction('PAUSE');\nconst unPause = createAction('UN_PAUSE');\n\nconst updateNotation = createAction<string>('UPDATE_NOTATION');\n\nconst parsedNotation = createAction<Result<RotationCommand[]>>(\n    'PARSED_NOTATION'\n);\n\nconst setCurrentRotationCommand = createAction<SingleRotationCommand>(\n    'SET_CURRENT_ROTATION_COMMAND'\n);\n\nconst actions = {\n    play,\n    stop,\n    pause,\n    unPause,\n    updateNotation,\n    parsedNotation,\n    setCurrentRotationCommand,\n};\n\nexport { actions as playerActions };\n","import React from 'react';\nimport Arrow from './Arrow';\nimport './Arrows.scss';\nimport { Direction } from './CubeTypes';\nimport { makeNotationParser } from './algorithms/Parser';\nimport { useDispatch } from 'react-redux';\nimport { playerActions } from '../states/player/PlayerActions';\n\nenum Side {\n    FRONT = 'rotateY(0deg)',\n    RIGHT = 'rotateY(90deg)',\n}\n\ninterface ICubeArrowsProps {\n    size: number;\n    cubicleSize: number;\n    cubeDimension: number;\n}\n\nconst CubeArrows: React.FunctionComponent<ICubeArrowsProps> = ({\n    size,\n    cubicleSize,\n    cubeDimension,\n}) => {\n    const dispatch = useDispatch();\n\n    const halfSize = size / 2;\n\n    const style = (side: Side, direction: Direction): React.CSSProperties => {\n        return {\n            width: cubicleSize,\n            transform: `${side} translate3d(0, ${halfSize}px, ${halfSize}px) rotateX(-90deg) translateY(-${\n                cubicleSize / 2\n            }px) rotateZ(${90 * direction}deg) translateY(-${\n                cubicleSize * (cubeDimension / 2 - 0.5)\n            }px)`,\n            cursor: 'pointer',\n            position: 'absolute',\n        };\n    };\n\n    const yStyle = (side: Side, direction: Direction): React.CSSProperties => ({\n        width: cubicleSize,\n        transform: `${side} rotateZ(${90 * direction}deg) translate3d(0, -${\n            cubicleSize * (cubeDimension / 2 + 0.5)\n        }px, ${halfSize}px)`,\n        cursor: 'pointer',\n        position: 'absolute',\n    });\n\n    const arrow = (\n        <svg className=\"cube-arrows-svg\" viewBox=\"-50 -50 100 100\">\n            <Arrow className=\"cube-arrow\" />\n        </svg>\n    );\n\n    const rotateWithNotation = (notation: string) => {\n        const parser = makeNotationParser(cubeDimension).rotationCommands;\n        const command = parser.tryParse(notation);\n        dispatch(playerActions.play(command));\n    };\n\n    return (\n        <div className=\"display-contents\">\n            <div\n                onClick={() => rotateWithNotation(\"Z'\")}\n                style={style(Side.FRONT, Direction.ANTI_CLOCKWISE)}\n            >\n                {arrow}\n            </div>\n            <div\n                onClick={() => rotateWithNotation('Z')}\n                style={style(Side.FRONT, Direction.CLOCKWISE)}\n            >\n                {arrow}\n            </div>\n            <div\n                onClick={() => rotateWithNotation(\"X'\")}\n                style={style(Side.RIGHT, Direction.ANTI_CLOCKWISE)}\n            >\n                {arrow}\n            </div>\n            <div\n                onClick={() => rotateWithNotation('X')}\n                style={style(Side.RIGHT, Direction.CLOCKWISE)}\n            >\n                {arrow}\n            </div>\n            <div\n                onClick={() => rotateWithNotation(\"Y'\")}\n                style={yStyle(Side.RIGHT, Direction.CLOCKWISE)}\n            >\n                {arrow}\n            </div>\n            <div\n                onClick={() => rotateWithNotation('Y')}\n                style={yStyle(Side.FRONT, Direction.ANTI_CLOCKWISE)}\n            >\n                {arrow}\n            </div>\n        </div>\n    );\n};\n\nexport default React.memo(CubeArrows);\n","import { Action, combineReducers } from 'redux';\nimport { Epic } from 'redux-observable';\nimport { cubeReducer, ICubeState } from './cube/CubeState';\nimport { useSelector } from 'react-redux';\nimport { IPlayerState, playerReducer } from './player/PlayerState';\n\nexport interface AppState {\n    cube: ICubeState;\n    player: IPlayerState;\n}\n\nexport const reducer = combineReducers<AppState>({\n    cube: cubeReducer,\n    player: playerReducer,\n});\n\nexport type AppEpic = Epic<Action, Action, AppState>;\n\nexport const useRedux = function <T>(selector: (state: AppState) => T) {\n    return useSelector<AppState, T>(selector);\n};\n","export interface IClassNameList {\n    hasClasses: boolean;\n    classNames: string[];\n}\n\nexport type ClassNameDictionary = {\n    [key: string]: boolean | undefined;\n};\n\nconst isClassNameList = (\n    arg: ClassNameDictionary | IClassNameList\n): arg is IClassNameList => (arg as IClassNameList).classNames !== undefined;\n\n/**\n * Create a single className string out of multiple classNames\n *\n * @param {string | ClassNameDictionary | IClassNameList}  classNames - classNames as simple string,\n * ClassNameDictionary where the key is used as classname and the value defines if it is used ({'myClass': true}),\n * ClassNameList where a boolean key defines if a whole list of classes should be used {hasClasses: true, classNames: ['myClass']}\n * @return {string} - the className\n */\nconst createClassName = (\n    ...classNames: (string | undefined | ClassNameDictionary | IClassNameList)[]\n) =>\n    classNames\n        .map((className) => {\n            if (typeof className === 'object') {\n                if (isClassNameList(className)) {\n                    return className.hasClasses\n                        ? className.classNames.join(' ')\n                        : '';\n                } else {\n                    return Object.keys(className)\n                        .filter((key) => className[key])\n                        .join(' ');\n                }\n            }\n            return className;\n        })\n        .filter((className) => className?.length)\n        .join(' ');\n\nexport default createClassName;\n","import React from 'react';\nimport createClassName from '../utils/createClassName';\n\ninterface IArrowProps {\n    className?: string;\n}\n\nconst Arrow: React.FC<IArrowProps> = ({ className = '' }) => (\n    <g className={createClassName('arrow', className)}>\n        <line x1={0} y1={40} x2={0} y2={-40} />\n        <line x1={0} y1={-40} x2={-40} y2={0} />\n        <line x1={0} y1={-40} x2={-40} y2={0} style={{ transform: 'scale(-1, 1)' }} />\n    </g>\n);\n\nexport default React.memo(Arrow);\n","import React from 'react';\nimport './Arrows.scss';\nimport Arrow from './Arrow';\nimport { FaceArrowDirection } from './CubeTypes';\n\ninterface IArrowsProps {\n    rotate: (faceArrow: FaceArrowDirection) => void;\n}\n\nconst FaceArrows: React.FunctionComponent<IArrowsProps> = ({ rotate }) => (\n    <svg viewBox=\"0 0 100 100\" className=\"face-arrows-svg\">\n        <g className=\"face-arrows-wrapper\">\n            <FaceArrow direction={FaceArrowDirection.UP} rotate={rotate} />\n            <FaceArrow direction={FaceArrowDirection.DOWN} rotate={rotate} />\n            <FaceArrow direction={FaceArrowDirection.LEFT} rotate={rotate} />\n            <FaceArrow direction={FaceArrowDirection.RIGHT} rotate={rotate} />\n        </g>\n    </svg>\n);\n\ninterface IArrowProps {\n    direction: FaceArrowDirection;\n    rotate: (faceArrow: FaceArrowDirection) => void;\n}\n\nconst FaceArrow: React.FC<IArrowProps> = ({ direction, rotate }) => (\n    <g\n        className=\"face-arrow-wrapper\"\n        style={{ transform: `rotate(${direction}deg)` }}\n        onClick={() => rotate(direction)}\n    >\n        <rect width=\"100%\" height=\"100%\" className=\"face-arrow-wrapper__box\" />\n        <Arrow className=\"face-arrow\" />\n    </g>\n);\n\nexport default FaceArrows;\n","import React, { useState } from 'react';\nimport { Color, FaceArrowDirection } from './CubeTypes';\nimport { Mat4, toCss } from '../utils/Matrix4';\nimport FaceArrows from './FaceArrows';\nimport { SingleRotationCommand } from './algorithms/RotationCommand';\nimport { useDispatch } from 'react-redux';\nimport { playerActions } from '../states/player/PlayerActions';\nimport { useRedux } from '../states/States';\n\ninterface IFaceProps {\n    transform: Mat4;\n    color: Color;\n    generateArrowCommand: (\n        faceArrow: FaceArrowDirection\n    ) => SingleRotationCommand;\n}\n\nconst Face: React.FunctionComponent<IFaceProps> = ({\n    transform,\n    color,\n    generateArrowCommand,\n}) => {\n    const [isHovered, setHovered] = useState(false);\n    const dispatch = useDispatch();\n    const colorMap = useRedux((state) => state.cube.colorMap);\n\n    const rotate = (faceArrow: FaceArrowDirection) =>\n        dispatch(playerActions.play([generateArrowCommand(faceArrow)]));\n\n    const onMouseEnter = () => setHovered(true);\n    const onMouseLeave = () => setHovered(false);\n\n    const style: React.CSSProperties = {\n        backgroundColor: colorMap[color],\n        transform: toCss(transform),\n    };\n\n    return (\n        <div\n            className=\"rubiks-cube__face\"\n            style={style}\n            onMouseEnter={onMouseEnter}\n            onMouseLeave={onMouseLeave}\n        >\n            {isHovered &&\n                color !== colorMap[Color.DEFAULT] &&\n                color !== colorMap[Color.TRANSPARENT] && (\n                    <FaceArrows rotate={rotate} />\n                )}\n        </div>\n    );\n};\n\nexport default React.memo(Face);\n","import React from 'react';\nimport { Mat4, toCss } from '../utils/Matrix4';\nimport { CubeAxis, IFace } from './CubeTypes';\nimport Face from './Face';\nimport { generateFaceArrowCommand } from './CubeUtils';\n\ninterface ICubicleProps {\n    axis: CubeAxis;\n    faces: IFace[];\n    animatedTransform: string;\n    transform: Mat4;\n    size: number;\n    rotationDuration: number;\n}\n\nconst Cubicle: React.FunctionComponent<ICubicleProps> = ({\n    axis,\n    faces,\n    animatedTransform,\n    transform,\n    size,\n    rotationDuration,\n}) => {\n    const style: React.CSSProperties = {\n        transform: animatedTransform + toCss(transform),\n        width: size,\n        height: size,\n        transition:\n            animatedTransform === 'rotate(0)'\n                ? ''\n                : `transform ${rotationDuration}ms`,\n    };\n\n    const generateArrowCommand = generateFaceArrowCommand(axis, transform);\n\n    return (\n        <div className=\"rubiks-cube__cubicle\" style={style}>\n            {faces.map(({ id, transform, color }) => (\n                <Face\n                    key={id}\n                    transform={transform}\n                    color={color}\n                    generateArrowCommand={generateArrowCommand(id)}\n                />\n            ))}\n        </div>\n    );\n};\n\nexport default React.memo(Cubicle);\n","import { isFunction, isNil } from 'lodash';\n\ntype TypeOrMaybeType<T> = T | Maybe<T>;\ntype FunctionOrValue<T> = (() => TypeOrMaybeType<T>) | TypeOrMaybeType<T>;\n\nclass Maybe<T> {\n    /**\n     * Create a maybe with a value T\n     * If the value is already a maybe then the returning type WON'T be double wrapped with a maybe\n     * Throws error if value is null or undefined\n     * @param value\n     */\n    static some<T>(value: FunctionOrValue<T>): Maybe<NonNullable<T>> {\n        if (isNil(value)) {\n            throw Error('Provided value must not be empty');\n        }\n\n        const result = isFunction(value) ? value()! : value!;\n\n        if (result instanceof Maybe) {\n            return result as Maybe<NonNullable<T>>;\n        }\n\n        return new Maybe<NonNullable<T>>(result);\n    }\n\n    /**\n     * Create a maybe with no value\n     */\n    static none<T>(): Maybe<NonNullable<T>> {\n        return new Maybe<NonNullable<T>>(null);\n    }\n\n    /**\n     * Create a maybe that is either some or none depending on the provided value\n     * If the value is already a maybe then the returning type WON'T be double wrapped with a maybe\n     * @param value\n     */\n    static of<T>(value: FunctionOrValue<T>): Maybe<NonNullable<T>> {\n        return isNil(value) ? Maybe.none() : Maybe.some(value);\n    }\n\n    /**\n     * Create a maybe from a function that might throw an error\n     * Returns none if an error is thrown\n     * @param valueFunction\n     */\n    static tryOf<T>(valueFunction: () => T): Maybe<NonNullable<T>> {\n        try {\n            const value = valueFunction();\n            return Maybe.of(value);\n        } catch (e) {\n            return Maybe.none();\n        }\n    }\n\n    /**\n     * Check if maybe is a some\n     */\n    isSome = (): boolean => !this.isNone();\n\n    /**\n     * Check if maybe is a none\n     */\n    isNone = (): boolean => isNil(this.value);\n\n    /**\n     * Get the value of the maybe\n     * Avoid this function if possible\n     * Throws error if the maybe is a none\n     */\n    unwrap = (): T => {\n        if (this.isNone()) {\n            throw Error('Provided value must not be empty');\n        }\n\n        return this.value!;\n    };\n\n    /**\n     * Get the value of the maybe\n     * Avoid this function if possible\n     * Throws custom error message if the maybe is a none\n     * @param errorMsg\n     */\n    expect = (errorMsg: string): T => {\n        if (this.isNone()) {\n            throw Error(errorMsg);\n        }\n\n        return this.value!;\n    };\n\n    /**\n     * Get the value of the maybe if it is a some otherwise use the provided default value\n     * @param defaultValue - default value (or function that creates a default value) to be used if value is none\n     */\n    unwrapOr = (defaultValue: (() => T) | T): T => {\n        if (this.isNone()) {\n            return isFunction(defaultValue) ? defaultValue() : defaultValue;\n        }\n\n        return this.value!;\n    };\n\n    /**\n     * Get the value of the maybe to work with it and return a new type wrapped in a maybe\n     * If the new type is also a maybe then the returning type WON'T be double wrapped with a maybe\n     * @param onSome - a function receiving the value returning a new value\n     */\n    map<U>(onSome: (value: T) => U | Maybe<U>): Maybe<NonNullable<U>> {\n        if (this.isNone()) {\n            return (this as unknown) as Maybe<NonNullable<U>>;\n        }\n\n        return Maybe.of(() => onSome(this.value!));\n    }\n\n    /**\n     * Get the value of the maybe to work with it and return a new type if the maybe is some otherwise use provided default value\n     * @param onSome - a function receiving the value returning a new value\n     * @param defaultValue - default value (or function that creates a default value) to be used if value is none\n     */\n    mapOr<U>(onSome: (value: T) => U, defaultValue: (() => U) | U): U {\n        if (this.isNone()) {\n            return isFunction(defaultValue) ? defaultValue() : defaultValue;\n        }\n\n        return onSome(this.value!);\n    }\n\n    /**\n     * Calls predicate with the contained value and returns this if predicate is true otherwise returns None\n     * @param predicate - filter function\n     */\n    filter(predicate: (value: T) => boolean): Maybe<NonNullable<T>> {\n        if (this.isSome()) {\n            if (predicate(this.unwrap())) {\n                return (this as unknown) as Maybe<NonNullable<T>>;\n            }\n        }\n\n        return Maybe.none();\n    }\n\n    /**\n     * Use provided value if this is Some otherwise return None\n     * @param other - provided value\n     */\n    and<U>(other: (() => Maybe<U>) | Maybe<U>): Maybe<NonNullable<T | U>> {\n        if (this.isSome()) {\n            return Maybe.of(other);\n        }\n\n        return (this as unknown) as Maybe<NonNullable<T | U>>;\n    }\n\n    /**\n     * Use provided value if this is None otherwise return this\n     * @param other - provided value\n     */\n    or<U>(other: (() => Maybe<U>) | Maybe<U>): Maybe<NonNullable<T | U>> {\n        if (this.isNone()) {\n            return Maybe.of(other);\n        }\n\n        return (this as unknown) as Maybe<NonNullable<T | U>>;\n    }\n\n    /**\n     * Use this if some, or use provided value if some otherwise return None\n     * @param other - provided value\n     */\n    xor<U>(other: (() => Maybe<U>) | Maybe<U>): Maybe<NonNullable<T | U>> {\n        const that = Maybe.of(other);\n\n        if (this.isSome() && that.isNone()) {\n            return (this as unknown) as Maybe<NonNullable<T | U>>;\n        } else if (this.isNone() && that.isSome()) {\n            return that;\n        } else {\n            return Maybe.none();\n        }\n    }\n\n    /**\n     * Create a maybe from a function that might throw an error\n     * Returns none if an error is thrown\n     * @param onSome\n     */\n    try<U>(onSome: (value: T) => U | Maybe<U>): Maybe<NonNullable<U>> {\n        try {\n            return this.map(onSome);\n        } catch (e) {\n            return Maybe.none();\n        }\n    }\n\n    /**\n     * If value of the maybe is some call the provided function\n     * @param onSome - function receiving the value\n     */\n    ifIsSome = (onSome: (value: T) => void): this => {\n        if (this.isSome()) {\n            onSome(this.value!);\n        }\n\n        return this;\n    };\n\n    /**\n     * If value of the maybe is none call the provided function\n     * @param onNone - function called if value is none\n     */\n    ifIsNone = (onNone: () => void): this => {\n        if (this.isNone()) {\n            onNone();\n        }\n\n        return this;\n    };\n\n    /**\n     * Compare the containing value with the provided value\n     * Returns false if isNone\n     * @param value - value to compare\n     */\n    contains(value: T): boolean {\n        if (this.isSome()) {\n            return this.unwrap() === value;\n        }\n\n        return false;\n    }\n\n    /**\n     * Check if two maybe instances are the same\n     * @param maybe - a maybe to compare\n     */\n    equals = (maybe: Maybe<T>) =>\n        (this.isNone() && maybe.isNone()) ||\n        (this.isSome() && maybe.contains(this.unwrap()));\n\n    private constructor(private value: T | null) {}\n}\n\nexport default Maybe;\n","import P from 'parsimmon';\nimport {\n    SingleRotationCommand,\n    double,\n    letterToAxis,\n    letterToRotation,\n    letterToSlices,\n    LoopedRotationCommands,\n    prime,\n    RotationCommand,\n    wide,\n} from './RotationCommand';\nimport { range, sample, sampleSize } from 'lodash';\n\n/**\n * Creates a cube notation parser that knows about the used cubeDimension\n *\n * Possible syntax versions should be roughly equal to:\n *\n * 1: [LRUDFBlrudfbMESXYZmesxyz]'?2?\n * 2: \\d+[LRUDFBlrudfb]w?'?2?\n * 3: \\[\\d+(,\\d)*\\][LRUDFBlrudfb]'?2?\n *\n * and groups and loops of:\n *\n * 4: \\(((1|2|3|4)[ ,])*\\)\\d*\n *\n * @param cubeDimension\n */\nexport const makeNotationParser = (cubeDimension: number) =>\n    P.createLanguage<{\n        separator: string;\n\n        comma: string;\n\n        lParenthesis: string;\n        rParenthesis: string;\n        lBracket: string;\n        rBracket: string;\n\n        wide: boolean;\n        prime: boolean;\n        double: boolean;\n\n        number: number;\n        numberInDimension: number;\n\n        slices: number[];\n\n        sliceableLetter: string;\n        notSliceableLetter: string;\n        letter: string;\n\n        simpleCommand: SingleRotationCommand;\n        slicedCommand: SingleRotationCommand;\n        loop: LoopedRotationCommands;\n\n        rotationCommands: RotationCommand[];\n    }>({\n        separator: (r) =>\n            P.alt(\n                P.optWhitespace.then(\n                    P.alt(\n                        r.comma,\n                        P.lookahead(r.lParenthesis.or(r.rParenthesis)),\n                        P.eof\n                    )\n                ),\n                P.whitespace.atLeast(1)\n            ).result(''),\n\n        comma: () => P.string(',').desc(','),\n\n        lParenthesis: () => P.string('(').desc('('),\n        rParenthesis: () => P.string(')').desc(')'),\n        lBracket: () => P.string('[').desc('['),\n        rBracket: () => P.string(']').desc(']'),\n\n        wide: () => P.regexp(/[W]/i).result(true).fallback(false),\n\n        prime: () => P.string(\"'\").desc(\"'\").result(true).fallback(false),\n\n        double: () => P.string('2').desc('2').result(true).fallback(false),\n\n        number: () => P.regexp(/\\d+/).map(Number).desc('number'),\n        numberInDimension: () =>\n            P((input, i) => {\n                const matched = input.substr(i).match(/^\\d+/);\n                if (matched) {\n                    const numStr = matched[0];\n                    const num = Number(numStr);\n                    const isInRange = num > 0 && num <= cubeDimension;\n\n                    if (isInRange) {\n                        return P.makeSuccess(i + numStr.length, num);\n                    }\n                }\n\n                return P.makeFailure(i, `1-${cubeDimension}`);\n            }),\n\n        slices: (r) =>\n            r.numberInDimension\n                .trim(P.optWhitespace)\n                .sepBy1(r.comma)\n                .map((nums) => nums.sort())\n                .wrap(r.lBracket, r.rBracket),\n\n        sliceableLetter: () => P.regexp(/[LRUDFB]/i),\n        notSliceableLetter: () => P.regexp(/[MESXYZ]/i),\n        letter: (r) => P.alt(r.sliceableLetter, r.notSliceableLetter),\n\n        simpleCommand: (r) =>\n            P.seq(r.letter, r.prime, r.double).map(\n                ([letter, hasPrime, hasDouble]) => ({\n                    axis: letterToAxis(letter),\n                    rotation: double(hasDouble)(\n                        prime(hasPrime)(letterToRotation(letter))\n                    ),\n                    slices: letterToSlices(letter, cubeDimension),\n                })\n            ),\n        slicedCommand: (r) =>\n            P.seq(\n                P.alt(\n                    P.seq(\n                        r.numberInDimension.map((num) => [num]),\n                        r.sliceableLetter,\n                        r.wide\n                    ),\n                    P.seq(r.slices, r.sliceableLetter, P.succeed(false))\n                ),\n                r.prime,\n                r.double\n            ).map(([[slices, letter, hasWide], hasPrime, hasDouble]) => ({\n                axis: letterToAxis(letter),\n                rotation: double(hasDouble)(\n                    prime(hasPrime)(letterToRotation(letter))\n                ),\n                slices: wide(hasWide)(letter, slices, cubeDimension),\n            })),\n        loop: (r) =>\n            P.seq(\n                r.rotationCommands.wrap(r.lParenthesis, r.rParenthesis),\n                r.number.fallback(1)\n            ).map(([commands, iterations]) => ({\n                commands,\n                iterations,\n            })),\n        rotationCommands: (r) =>\n            P.optWhitespace\n                .then(P.alt(r.simpleCommand, r.slicedCommand, r.loop))\n                .skip(r.separator)\n                .many(),\n    });\n\nexport const createRandomNotation = (cubeDimension: number): string => {\n    const letters = 'LRUDFB'.split('');\n    const loops = 20;\n\n    let moves = '';\n    let prevLetter = '';\n    let prevIsPrime = false;\n\n    const randomLetter = (slices: number[]) => {\n        let letter = '';\n        let isPrime = false;\n\n        do {\n            const slice = sample(slices) ?? '';\n            letter = slice + sample(letters)!;\n            isPrime = sample([true, false])!;\n        } while (prevLetter === letter && prevIsPrime !== isPrime);\n\n        prevLetter = letter;\n        prevIsPrime = isPrime;\n        moves += letter + (isPrime ? \"' \" : ' ');\n    };\n\n    if (cubeDimension > 3) {\n        const slices = range(2, cubeDimension);\n        const length = range(0, slices.length);\n        range(loops).forEach(() =>\n            randomLetter(sampleSize(slices, sample(length)))\n        );\n    } else {\n        range(loops).forEach(() => randomLetter([]));\n    }\n\n    return moves;\n};\n","import React from 'react';\nimport { useRedux } from '../states/States';\nimport { fromScale, fromTranslation, multiply, toCss } from '../utils/Matrix4';\nimport Cubicle from './Cubicle';\nimport './RubiksCube.scss';\nimport Maybe from '../utils/Maybe';\nimport { rotationCommandToCssRotation } from './algorithms/RotationCommand';\nimport createClassName from '../utils/createClassName';\nimport { canApplyRotationCommand } from './CubeUtils';\nimport CubeArrows from './CubeArrows';\nimport { PlayerStatus } from '../states/player/PlayerState';\n\nconst RubiksCube: React.FunctionComponent = () => {\n    const cubeDimension = useRedux((state) => state.cube.dimension);\n    const cubeSize = useRedux((state) => state.cube.size);\n    const scale = useRedux((state) => state.cube.scale);\n    const rotation = useRedux((state) => state.cube.rotation);\n    const isStopped =\n        useRedux((state) => state.player.status) === PlayerStatus.STOPPED;\n\n    const cubicleSize = cubeSize / cubeDimension;\n\n    const style: React.CSSProperties = {\n        width: cubeSize,\n        height: cubeSize,\n        transform: toCss(multiply(rotation, fromScale(scale))),\n    };\n\n    const positionCorrectionStyle = (): React.CSSProperties => {\n        const offset = (cubeSize * (cubeDimension - 1)) / (2 * cubeDimension);\n        const mat = fromTranslation(offset, offset, 0);\n        return {\n            transform: toCss(mat),\n            transformStyle: 'preserve-3d',\n        };\n    };\n\n    return (\n        <div className=\"app__cube\">\n            <div\n                className={createClassName('rubiks-cube', {\n                    'rubiks-cube--is-transitioning': !isStopped,\n                })}\n                style={style}\n            >\n                <div style={positionCorrectionStyle()}>\n                    <Cubicles cubicleSize={cubicleSize} />\n                    {cubeDimension > 1 && (\n                        <CubeArrows\n                            cubeDimension={cubeDimension}\n                            size={cubeSize}\n                            cubicleSize={cubicleSize}\n                        />\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\ninterface CubiclesProps {\n    cubicleSize: number;\n}\n\nconst Cubicles: React.FunctionComponent<CubiclesProps> = React.memo(\n    ({ cubicleSize }) => {\n        const cubicles = useRedux((state) => state.cube.cubicles);\n        const rotationDuration = useRedux(\n            (state) => state.cube.rotationDuration\n        );\n        const currentRotationCommand = Maybe.of(\n            useRedux((state) => state.player.currentCommand)\n        );\n\n        return (\n            <div className=\"display-contents\">\n                {cubicles.map(({ id, faces, transform, axis }) => {\n                    const animatedTransform = currentRotationCommand\n                        .filter((command) =>\n                            canApplyRotationCommand(axis, command)\n                        )\n                        .map(rotationCommandToCssRotation)\n                        .unwrapOr('rotate(0)');\n\n                    return (\n                        <Cubicle\n                            key={id.join(',')}\n                            axis={axis}\n                            faces={faces}\n                            animatedTransform={animatedTransform}\n                            transform={transform}\n                            size={cubicleSize}\n                            rotationDuration={rotationDuration}\n                        />\n                    );\n                })}\n            </div>\n        );\n    }\n);\n\nexport default RubiksCube;\n","import { useCallback, useState } from 'react';\nimport { isFunction } from 'lodash';\n\nfunction useComplexState<S>(\n    initialState: S | (() => S)\n): [S, (newState: Partial<S> | ((prevState: S) => Partial<S>)) => void] {\n    const [state, setState] = useState(initialState);\n    const updateState = useCallback(\n        (newState: Partial<S> | ((prevState: S) => Partial<S>)) =>\n            setState(prevState => ({\n                ...prevState,\n                ...(isFunction(newState) ? newState(prevState) : newState)\n            })),\n        []\n    );\n    return [state, updateState];\n}\n\nexport default useComplexState;\n","import React, { useCallback, useState } from 'react';\nimport List from '@material-ui/core/List';\nimport Settings from './Settings';\nimport './Interface.scss';\nimport Algorithms from './Algorithms';\nimport Category from './Category';\nimport Player from './Player';\nimport { ListItem } from '@material-ui/core';\n\nenum Menu {\n    ALGORITHMS = 'ALGORITHMS',\n    SETTINGS = 'SETTINGS',\n    NONE = 'NONE',\n}\n\nconst Interface: React.FunctionComponent = () => {\n    const [openedMenu, setOpenedMenu] = useState(Menu.SETTINGS);\n    const setMenu = (menu: Menu) =>\n        setOpenedMenu((prevMenu) => (prevMenu === menu ? Menu.NONE : menu));\n\n    return (\n        <div className=\"app__interface\">\n            <List>\n                <ListItem className=\"interface-list__item\">\n                    <Player />\n                </ListItem>\n                <Category\n                    isOpen={openedMenu === Menu.ALGORITHMS}\n                    setMenu={useCallback(() => setMenu(Menu.ALGORITHMS), [])}\n                    title=\"Algorithms\"\n                >\n                    <Algorithms />\n                </Category>\n                <Category\n                    isOpen={openedMenu === Menu.SETTINGS}\n                    setMenu={useCallback(() => setMenu(Menu.SETTINGS), [])}\n                    title=\"Settings\"\n                >\n                    <Settings />\n                </Category>\n            </List>\n        </div>\n    );\n};\n\nexport default Interface;\n","import React from 'react';\nimport './ColorPicker.scss';\nimport { ChromePicker } from 'react-color';\nimport { useRedux } from '../states/States';\nimport { Color } from '../cube/CubeTypes';\nimport { useDispatch } from 'react-redux';\nimport { cubeActions } from '../states/cube/CubeActions';\nimport useComplexState from '../hooks/useComplexState';\nimport { Button, ClickAwayListener } from '@material-ui/core';\nimport createClassName from '../utils/createClassName';\n\ninterface State {\n    selectedColor?: Color;\n    pickerColor: string;\n}\n\nconst ColorPicker: React.FunctionComponent = () => {\n    const dispatch = useDispatch();\n    const colorMap = useRedux((state) => state.cube.colorMap);\n\n    const [{ selectedColor, pickerColor }, setState] = useComplexState<State>(\n        () => ({\n            selectedColor: undefined,\n            pickerColor: '',\n        })\n    );\n\n    const resetColors = () => {\n        dispatch(cubeActions.resetColors());\n    };\n\n    const colors = Object.entries(colorMap)\n        .filter(\n            ([key, _]) => key !== Color.DEFAULT && key !== Color.TRANSPARENT\n        )\n        .map(([key, value]: [Color, string]) => (\n            <div\n                key={key}\n                className={createClassName('color-group__color-square', {\n                    'color-group__color-square--selected':\n                        selectedColor === key,\n                })}\n                style={{\n                    backgroundColor: value,\n                }}\n                onClick={() =>\n                    setState({ selectedColor: key, pickerColor: value })\n                }\n            />\n        ));\n\n    return (\n        <div className=\"color-picker-component\">\n            <ClickAwayListener\n                onClickAway={() => {\n                    if (selectedColor) {\n                        setState({ selectedColor: undefined });\n                    }\n                }}\n            >\n                <div>\n                    <div className=\"color-group\">{colors}</div>\n                    {selectedColor && (\n                        <div className=\"color-picker\">\n                            <ChromePicker\n                                disableAlpha={true}\n                                color={pickerColor}\n                                onChange={(color) =>\n                                    setState({ pickerColor: color.hex })\n                                }\n                                onChangeComplete={(color) =>\n                                    dispatch(\n                                        cubeActions.setColor(\n                                            selectedColor,\n                                            color.hex\n                                        )\n                                    )\n                                }\n                            />\n                        </div>\n                    )}\n                </div>\n            </ClickAwayListener>\n            <Button size={'small'} onClick={resetColors}>\n                Reset Colors\n            </Button>\n        </div>\n    );\n};\n\nexport default ColorPicker;\n","import React, { useMemo } from 'react';\nimport { Typography } from '@material-ui/core';\nimport Slider from '@material-ui/core/Slider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport { PlayerStatus } from '../states/player/PlayerState';\nimport { cubeActions } from '../states/cube/CubeActions';\nimport { useDispatch } from 'react-redux';\nimport { useRedux } from '../states/States';\nimport ColorPicker from './ColorPicker';\n\nconst Settings: React.FunctionComponent = () => {\n    const dispatch = useDispatch();\n    const cubeDimension = useRedux((state) => state.cube.dimension);\n    const scale = useRedux((state) => state.cube.scale);\n    const rotationAnimationSpeed = useRedux(\n        (state) => state.cube.rotationDuration\n    );\n    const playerStatus = useRedux((state) => state.player.status);\n\n    const isDisabled = playerStatus !== PlayerStatus.STOPPED;\n\n    return (\n        <List disablePadding={true} dense={true} className=\"interface-list\">\n            <ListItem className=\"interface-list__item--settings\">\n                <Typography id=\"cube-dimension-slider\">\n                    Cube dimension\n                </Typography>\n                <Slider\n                    aria-labelledby=\"cube-dimension-slider\"\n                    valueLabelDisplay=\"auto\"\n                    marks={true}\n                    step={1}\n                    min={1}\n                    max={5}\n                    defaultValue={useMemo(() => cubeDimension, [])}\n                    onChangeCommitted={(event, value) =>\n                        dispatch(cubeActions.setCubeDimension(value as number))\n                    }\n                    disabled={isDisabled}\n                />\n            </ListItem>\n            <ListItem className=\"interface-list__item--settings\">\n                <Typography id=\"scale-slider\">Scale</Typography>\n                <Slider\n                    aria-labelledby=\"scale-slider\"\n                    valueLabelDisplay=\"auto\"\n                    marks={true}\n                    step={0.1}\n                    min={0.2}\n                    max={2.0}\n                    defaultValue={useMemo(() => scale, [])}\n                    onChangeCommitted={(event, value) =>\n                        dispatch(cubeActions.setCubeScale(value as number))\n                    }\n                    disabled={isDisabled}\n                />\n            </ListItem>\n            <ListItem className=\"interface-list__item--settings\">\n                <Typography id=\"animation-duration-slider\">\n                    Animation duration\n                </Typography>\n                <Slider\n                    aria-labelledby=\"animation-duration-slider\"\n                    valueLabelDisplay=\"auto\"\n                    min={100}\n                    max={2000}\n                    step={50}\n                    defaultValue={useMemo(() => rotationAnimationSpeed, [])}\n                    onChangeCommitted={(event, value) =>\n                        dispatch(\n                            cubeActions.setRotationAnimationSpeed(\n                                value as number\n                            )\n                        )\n                    }\n                />\n            </ListItem>\n            <ListItem>\n                <ColorPicker />\n            </ListItem>\n        </List>\n    );\n};\n\nexport default React.memo(Settings);\n","import { Color } from '../CubeTypes';\nimport { AlgorithmTree } from './AlgorithmTree';\n\nconst { YELLOW, ORANGE, RED, GREEN, BLUE, DEFAULT, TRANSPARENT } = Color;\n\nconst Look2CFOP: AlgorithmTree = {\n    name: '2 Look CFOP',\n    groups: [\n        {\n            name: 'OLL',\n            groups: [\n                {\n                    name: 'Edges',\n                    algorithms: [\n                        {\n                            name: 'Dot',\n                            notation: \"F (R U R' U') F' f (R U R' U') f'\",\n                            startConfiguration: [\n                                [\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    DEFAULT,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    YELLOW,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    DEFAULT,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                ],\n                            ],\n                        },\n                        {\n                            name: 'L',\n                            notation: \"f (R U R' U') f'\",\n                            startConfiguration: [\n                                [\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    DEFAULT,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    YELLOW,\n                                    YELLOW,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    YELLOW,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                ],\n                            ],\n                        },\n                        {\n                            name: 'Line',\n                            notation: \"F (R U R' U') F'\",\n                            startConfiguration: [\n                                [\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    DEFAULT,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    DEFAULT,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                ],\n                            ],\n                        },\n                    ],\n                },\n                {\n                    name: 'Corners',\n                    groups: [\n                        {\n                            name: 'No Corners solved',\n                            algorithms: [\n                                {\n                                    name: 'H',\n                                    notation: \"F (R U R' U')3 F'\",\n                                    startConfiguration: [\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            DEFAULT,\n                                            YELLOW,\n                                            DEFAULT,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            YELLOW,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            DEFAULT,\n                                            YELLOW,\n                                            DEFAULT,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                    ],\n                                },\n                                {\n                                    name: 'Pi',\n                                    notation: \"R U2 (R2 U' R2 U' R2) U2 R\",\n                                    startConfiguration: [\n                                        [\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            YELLOW,\n                                            DEFAULT,\n                                            YELLOW,\n                                            DEFAULT,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            YELLOW,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            YELLOW,\n                                            DEFAULT,\n                                            YELLOW,\n                                            DEFAULT,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                    ],\n                                },\n                            ],\n                        },\n                        {\n                            name: '1 Corner solved',\n                            algorithms: [\n                                {\n                                    name: 'Sune',\n                                    notation: \"R U R' U R U2 R'\",\n                                    startConfiguration: [\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            DEFAULT,\n                                            YELLOW,\n                                            DEFAULT,\n                                            YELLOW,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            YELLOW,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            YELLOW,\n                                            DEFAULT,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                    ],\n                                },\n                                {\n                                    name: 'Anti-Sune',\n                                    notation: \"L' U' L U' L' U2 L\",\n                                    startConfiguration: [\n                                        [\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            YELLOW,\n                                            DEFAULT,\n                                            YELLOW,\n                                            DEFAULT,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            YELLOW,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            DEFAULT,\n                                            YELLOW,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                        ],\n                                    ],\n                                },\n                            ],\n                        },\n                        {\n                            name: '2 Corners solved',\n                            algorithms: [\n                                {\n                                    name: 'L',\n                                    notation: \"x (R' U R D') (R' U' R D) x'\",\n                                    startConfiguration: [\n                                        [\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            YELLOW,\n                                            DEFAULT,\n                                            YELLOW,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            YELLOW,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            DEFAULT,\n                                            YELLOW,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                        ],\n                                    ],\n                                },\n                                {\n                                    name: 'T',\n                                    notation: \"x (L U R' U') (L' U R U') x'\",\n                                    startConfiguration: [\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            DEFAULT,\n                                            YELLOW,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            YELLOW,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            DEFAULT,\n                                            YELLOW,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                        ],\n                                    ],\n                                },\n                                {\n                                    name: 'U',\n                                    notation: \"R2 D R' U2 R D' R' U2 R'\",\n                                    startConfiguration: [\n                                        [\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            YELLOW,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            YELLOW,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            DEFAULT,\n                                            YELLOW,\n                                            DEFAULT,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                    ],\n                                },\n                            ],\n                        },\n                    ],\n                },\n                {\n                    name: 'Parity',\n                    algorithms: [\n                        {\n                            name: 'Edge flipped',\n                            notation:\n                                \"(2R2 B2 U2) (2L U2) (2R' U2) (2R U2) (F2 2R F2) (2L' B2 2R2)\",\n                            startConfiguration: [\n                                [\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    YELLOW,\n                                    DEFAULT,\n                                    DEFAULT,\n                                    YELLOW,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                    YELLOW,\n                                    YELLOW,\n                                    TRANSPARENT,\n                                    TRANSPARENT,\n                                ],\n                            ],\n                        },\n                    ],\n                },\n            ],\n        },\n        {\n            name: 'PLL',\n            groups: [\n                {\n                    name: 'Corners',\n                    algorithms: [\n                        {\n                            name: 'Diagonal',\n                            notation:\n                                \"(F R U' R' U' R U R' F') (R U R' U' R' F R F')\",\n                            startConfiguration: [\n                                [\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                ],\n                                [DEFAULT, YELLOW, YELLOW, YELLOW, DEFAULT],\n                                [\n                                    TRANSPARENT,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    TRANSPARENT,\n                                ],\n                                [DEFAULT, YELLOW, YELLOW, YELLOW, DEFAULT],\n                                [\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                ],\n                            ],\n                        },\n                        {\n                            name: 'Adjacent',\n                            notation:\n                                \"(R U R' U' R' F) R2 (U' R' U' R U R' F')\",\n                            startConfiguration: [\n                                [\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                ],\n                                [ORANGE, YELLOW, YELLOW, YELLOW, DEFAULT],\n                                [\n                                    TRANSPARENT,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    TRANSPARENT,\n                                ],\n                                [ORANGE, YELLOW, YELLOW, YELLOW, DEFAULT],\n                                [\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                    DEFAULT,\n                                    TRANSPARENT,\n                                ],\n                            ],\n                        },\n                    ],\n                },\n                {\n                    name: 'Edges',\n                    groups: [\n                        {\n                            name: '3 Edges',\n                            algorithms: [\n                                {\n                                    name: 'Right to Left',\n                                    notation: \"R U' R U R U R U' R' U' R2\",\n                                    startConfiguration: [\n                                        [\n                                            TRANSPARENT,\n                                            GREEN,\n                                            GREEN,\n                                            GREEN,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            ORANGE,\n                                            YELLOW,\n                                            YELLOW,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            DEFAULT,\n                                            YELLOW,\n                                            YELLOW,\n                                            YELLOW,\n                                            ORANGE,\n                                        ],\n                                        [\n                                            ORANGE,\n                                            YELLOW,\n                                            YELLOW,\n                                            YELLOW,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            BLUE,\n                                            DEFAULT,\n                                            BLUE,\n                                            TRANSPARENT,\n                                        ],\n                                    ],\n                                },\n                                {\n                                    name: 'Left to Right',\n                                    notation: \"R2 U R U R' U' R' U' R' U R'\",\n                                    startConfiguration: [\n                                        [\n                                            TRANSPARENT,\n                                            GREEN,\n                                            GREEN,\n                                            GREEN,\n                                            TRANSPARENT,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            YELLOW,\n                                            YELLOW,\n                                            RED,\n                                        ],\n                                        [RED, YELLOW, YELLOW, YELLOW, DEFAULT],\n                                        [\n                                            TRANSPARENT,\n                                            YELLOW,\n                                            YELLOW,\n                                            YELLOW,\n                                            RED,\n                                        ],\n                                        [\n                                            TRANSPARENT,\n                                            BLUE,\n                                            DEFAULT,\n                                            BLUE,\n                                            TRANSPARENT,\n                                        ],\n                                    ],\n                                },\n                            ],\n                        },\n                        {\n                            name: '4 Edges',\n                            algorithms: [\n                                {\n                                    name: 'Cross',\n                                    notation: \"M2 U' M2 U2 M2 U' M2\",\n                                    startConfiguration: [\n                                        [\n                                            TRANSPARENT,\n                                            GREEN,\n                                            BLUE,\n                                            GREEN,\n                                            TRANSPARENT,\n                                        ],\n                                        [ORANGE, YELLOW, YELLOW, YELLOW, RED],\n                                        [RED, YELLOW, YELLOW, YELLOW, ORANGE],\n                                        [ORANGE, YELLOW, YELLOW, YELLOW, RED],\n                                        [\n                                            TRANSPARENT,\n                                            BLUE,\n                                            GREEN,\n                                            BLUE,\n                                            TRANSPARENT,\n                                        ],\n                                    ],\n                                },\n                                {\n                                    name: 'Diagonal',\n                                    notation: \"M' U' M2 U' M2 U' M' U2 M2\",\n                                    startConfiguration: [\n                                        [\n                                            TRANSPARENT,\n                                            GREEN,\n                                            ORANGE,\n                                            GREEN,\n                                            TRANSPARENT,\n                                        ],\n                                        [ORANGE, YELLOW, YELLOW, YELLOW, RED],\n                                        [GREEN, YELLOW, YELLOW, YELLOW, BLUE],\n                                        [ORANGE, YELLOW, YELLOW, YELLOW, RED],\n                                        [\n                                            TRANSPARENT,\n                                            BLUE,\n                                            RED,\n                                            BLUE,\n                                            TRANSPARENT,\n                                        ],\n                                    ],\n                                },\n                            ],\n                        },\n                    ],\n                },\n                {\n                    name: 'Parity',\n                    algorithms: [\n                        {\n                            name: 'Corners / Edges swapped',\n                            notation: '2R2 U2 2R2 u2 2R2 2U2',\n                            startConfiguration: [\n                                [\n                                    TRANSPARENT,\n                                    GREEN,\n                                    BLUE,\n                                    BLUE,\n                                    GREEN,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    YELLOW,\n                                    TRANSPARENT,\n                                ],\n                                [\n                                    TRANSPARENT,\n                                    BLUE,\n                                    GREEN,\n                                    GREEN,\n                                    BLUE,\n                                    TRANSPARENT,\n                                ],\n                            ],\n                        },\n                    ],\n                },\n            ],\n        },\n    ],\n};\n\nexport default Look2CFOP;\n","import { AlgorithmTree } from './AlgorithmTree';\n\nconst Misc: AlgorithmTree = {\n    name: 'Misc',\n    algorithms: [\n        {\n            name: 'Sexy',\n            notation: \"R U R' U'\",\n        },\n    ],\n};\n\nexport default Misc;\n","import React from 'react';\n\ninterface IStartConfigurationProps {\n    configuration: string[][];\n    transparentColor: string;\n}\n\nconst StartConfiguration: React.FunctionComponent<IStartConfigurationProps> = ({\n    configuration,\n    transparentColor,\n}) => (\n    <div className=\"start-configuration\">\n        {configuration.flatMap((row, rowIndex) =>\n            row.map((color, colorIndex) => (\n                <React.Fragment key={`${rowIndex}-${colorIndex}`}>\n                    {color !== transparentColor && (\n                        <div\n                            className=\"start-configuration__face\"\n                            style={{\n                                backgroundColor: color,\n                                gridRow: rowIndex + 1,\n                                gridColumn: colorIndex + 1,\n                            }}\n                        />\n                    )}\n                </React.Fragment>\n            ))\n        )}\n    </div>\n);\n\nexport default React.memo(StartConfiguration);\n","import { Color } from '../CubeTypes';\n\nexport interface AlgorithmGroupGroup {\n    name: string;\n    groups: AlgorithmTree[];\n}\n\nexport interface AlgorithmGroup {\n    name: string;\n    algorithms: Algorithm[];\n}\n\nexport interface Algorithm {\n    name: string;\n    notation: string;\n    startConfiguration?: Color[][];\n}\n\nexport type AlgorithmTree = AlgorithmGroupGroup | AlgorithmGroup;\n\nconst isAlgorithmGroup = (tree: AlgorithmTree): tree is AlgorithmGroup =>\n    (tree as AlgorithmGroup).algorithms !== undefined;\n\nconst joinNames = (a: string, b: string): string =>\n    a === '' ? b : `${a} / ${b}`;\n\nexport const flattenTree = (\n    tree: AlgorithmTree,\n    name = ''\n): AlgorithmGroup[] => {\n    if (isAlgorithmGroup(tree)) {\n        return [{ ...tree, name: joinNames(name, tree.name) }];\n    } else {\n        return tree.groups.flatMap((group) =>\n            flattenTree(group, joinNames(name, tree.name))\n        );\n    }\n};\n","import React, { useState } from 'react';\nimport { List, ListItemText } from '@material-ui/core';\nimport ListItem from '@material-ui/core/ListItem';\nimport Look2CFOP from '../cube/algorithms/CFOP';\nimport Misc from '../cube/algorithms/Misc';\nimport { PlayerStatus } from '../states/player/PlayerState';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport StartConfiguration from './StartConfiguration';\nimport Divider from '@material-ui/core/Divider';\nimport TextField from '@material-ui/core/TextField';\nimport { playerActions } from '../states/player/PlayerActions';\nimport { useDispatch } from 'react-redux';\nimport { useRedux } from '../states/States';\nimport { AlgorithmGroup, flattenTree } from '../cube/algorithms/AlgorithmTree';\n\nexport const categories = [Look2CFOP, Misc].flatMap((algorithm) =>\n    flattenTree(algorithm)\n);\n\nconst filterCategories = (searchValue: string): AlgorithmGroup[] =>\n    categories\n        .map<AlgorithmGroup | undefined>((group) => {\n            if (group.name.toLocaleLowerCase().includes(searchValue)) {\n                return group;\n            }\n\n            const algorithms = group.algorithms.filter((algorithm) =>\n                algorithm.name.toLocaleLowerCase().includes(searchValue)\n            );\n\n            if (algorithms.length === 0) {\n                return;\n            }\n\n            return {\n                ...group,\n                algorithms,\n            };\n        })\n        .filter((group): group is AlgorithmGroup => group !== undefined);\n\nconst Algorithms: React.FunctionComponent = () => {\n    const dispatch = useDispatch();\n    const playerStatus = useRedux((state) => state.player.status);\n    const colorMap = useRedux((state) => state.cube.colorMap);\n\n    const [filteredCategories, setFilteredCategories] = useState(categories);\n    const filter = (event: React.ChangeEvent<HTMLInputElement>) =>\n        setFilteredCategories(\n            filterCategories(event.target.value.toLocaleLowerCase())\n        );\n\n    return (\n        <List\n            disablePadding={true}\n            dense={true}\n            className=\"interface-list interface-algorithm-list\"\n        >\n            <ListSubheader className=\"interface-algorithm-list__filer\">\n                <TextField label=\"Search\" fullWidth={true} onChange={filter} />\n            </ListSubheader>\n            {filteredCategories.map((group, index) => (\n                <React.Fragment key={group.name + index}>\n                    <ListSubheader className=\"interface-list__item interface-algorithm-list__header\">\n                        <Divider />\n                        {group.name}\n                        <Divider />\n                    </ListSubheader>\n                    {group.algorithms.map((algorithm) => (\n                        <ListItem\n                            key={algorithm.name + index}\n                            className=\"interface-list__item--moves\"\n                            button={true}\n                            onClick={() =>\n                                dispatch(\n                                    playerActions.updateNotation(\n                                        algorithm.notation!\n                                    )\n                                )\n                            }\n                            disabled={playerStatus !== PlayerStatus.STOPPED}\n                        >\n                            {algorithm.startConfiguration && (\n                                <StartConfiguration\n                                    configuration={algorithm.startConfiguration.map(\n                                        (row) =>\n                                            row.map((color) => colorMap[color])\n                                    )}\n                                    transparentColor={colorMap.transparent}\n                                />\n                            )}\n                            <ListItemText\n                                primary={algorithm.name}\n                                secondary={algorithm.notation}\n                            />\n                        </ListItem>\n                    ))}\n                </React.Fragment>\n            ))}\n        </List>\n    );\n};\n\nexport default Algorithms;\n","import React from 'react';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport {\n    Accordion,\n    AccordionSummary,\n    AccordionDetails,\n} from '@material-ui/core';\nimport ListItem from '@material-ui/core/ListItem';\nimport Typography from '@material-ui/core/Typography';\n\ninterface ICategoryProps {\n    isOpen: boolean;\n    setMenu: () => void;\n    title: string;\n}\n\nconst Category: React.FunctionComponent<ICategoryProps> = ({\n    title,\n    isOpen,\n    setMenu,\n    children,\n}) => (\n    <ListItem className=\"interface-list__item\">\n        <Accordion\n            expanded={isOpen}\n            TransitionProps={{ unmountOnExit: true }}\n            className=\"interface-category\"\n        >\n            <AccordionSummary\n                onClick={setMenu}\n                expandIcon={<ExpandMoreIcon />}\n                className=\"interface-category__summary\"\n            >\n                <Typography>{title}</Typography>\n            </AccordionSummary>\n            <AccordionDetails className=\"interface-category__details\">\n                {children}\n            </AccordionDetails>\n        </Accordion>\n    </ListItem>\n);\n\nexport default Category;\n","import React, { useCallback } from 'react';\nimport { Chip, IconButton, TextField, Typography } from '@material-ui/core';\nimport './Player.scss';\nimport { PlayerStatus } from '../states/player/PlayerState';\nimport {\n    Pause,\n    PlayArrow,\n    Refresh,\n    Shuffle,\n    SkipNext,\n    Stop,\n} from '@material-ui/icons';\nimport { playerActions } from '../states/player/PlayerActions';\nimport { useDispatch } from 'react-redux';\nimport { useRedux } from '../states/States';\nimport { isError, isOk } from '../cube/algorithms/RotationCommand';\nimport { cubeActions } from '../states/cube/CubeActions';\nimport { createRandomNotation } from '../cube/algorithms/Parser';\nimport { Failure } from 'parsimmon';\nimport createClassName from '../utils/createClassName';\n\nconst Player: React.FunctionComponent = () => {\n    const dispatch = useDispatch();\n    const cubeDimension = useRedux((state) => state.cube.dimension);\n    const playerNotation = useRedux((state) => state.player.notation);\n    const playerStatus = useRedux((state) => state.player.status);\n    const rotationCommands = useRedux((state) => state.player.rotationCommands);\n\n    const updateNotation = useCallback(\n        (event: React.ChangeEvent<HTMLInputElement>) =>\n            dispatch(playerActions.updateNotation(event.target.value)),\n        []\n    );\n\n    const hasParseError = isError(rotationCommands);\n    const isNotationEmpty = playerNotation.length === 0;\n    const isStopped = playerStatus === PlayerStatus.STOPPED;\n\n    const onPlay = () => {\n        if (playerStatus === PlayerStatus.STOPPED && isOk(rotationCommands)) {\n            dispatch(playerActions.play(rotationCommands.value));\n        } else if (playerStatus === PlayerStatus.PAUSED) {\n            dispatch(playerActions.unPause());\n        }\n    };\n    const onPause = () => dispatch(playerActions.pause());\n    const onStop = () => dispatch(playerActions.stop());\n\n    const onJumpToEnd = () => {\n        if (isOk(rotationCommands)) {\n            dispatch(cubeActions.applyRotationCommands(rotationCommands.value));\n        }\n    };\n\n    const onShuffle = () =>\n        dispatch(\n            playerActions.updateNotation(createRandomNotation(cubeDimension))\n        );\n\n    const onRefresh = () => dispatch(cubeActions.resetCube());\n\n    return (\n        <div className=\"algorithm-player\">\n            <TextField\n                label=\"Algorithm\"\n                fullWidth={true}\n                value={playerNotation}\n                onChange={updateNotation}\n                disabled={!isStopped}\n                error={hasParseError}\n                spellCheck={false}\n                multiline={true}\n            />\n            {isError(rotationCommands) && (\n                <NotationError\n                    notation={playerNotation}\n                    error={rotationCommands}\n                />\n            )}\n            <div className=\"algorithm-player__buttons\">\n                <div>\n                    {playerStatus === PlayerStatus.PLAYING ? (\n                        <IconButton onClick={onPause}>\n                            <Pause />\n                        </IconButton>\n                    ) : (\n                        <IconButton\n                            onClick={onPlay}\n                            disabled={isNotationEmpty || hasParseError}\n                        >\n                            <PlayArrow />\n                        </IconButton>\n                    )}\n                    <IconButton onClick={onStop} disabled={isStopped}>\n                        <Stop />\n                    </IconButton>\n                    <IconButton\n                        onClick={onJumpToEnd}\n                        disabled={\n                            !isStopped || isNotationEmpty || hasParseError\n                        }\n                    >\n                        <SkipNext />\n                    </IconButton>\n                </div>\n                <div>\n                    <IconButton onClick={onShuffle} disabled={!isStopped}>\n                        <Shuffle />\n                    </IconButton>\n                    <IconButton onClick={onRefresh} disabled={!isStopped}>\n                        <Refresh />\n                    </IconButton>\n                </div>\n            </div>\n        </div>\n    );\n};\n\ninterface NotationErrorProps {\n    notation: string;\n    error: Failure;\n}\n\nconst NotationError: React.FunctionComponent<NotationErrorProps> = ({\n    notation,\n    error,\n}) => (\n    <>\n        <Typography\n            className={createClassName('MuiInputBase-root', 'notation-error')}\n        >\n            <span className=\"notation-error__text\">\n                {notation.substring(0, error.index.offset)}\n            </span>\n            <span className=\"notation-error__letter\">\n                {notation.substr(error.index.offset, 1).padEnd(1, ' ')}\n            </span>\n        </Typography>\n\n        <div className=\"notation-error__chips\">\n            {error.expected.map((errorMsg) => (\n                <Chip\n                    className=\"notation-error__chip\"\n                    key={errorMsg}\n                    color={'secondary'}\n                    size={'small'}\n                    label={errorMsg}\n                />\n            ))}\n        </div>\n    </>\n);\n\nexport default React.memo(Player);\n","import React, { useEffect } from 'react';\nimport RubiksCube from './cube/RubiksCube';\nimport Interface from './interface/Interface';\nimport './App.scss';\nimport { useDispatch } from 'react-redux';\nimport { cubeActions } from './states/cube/CubeActions';\n\nconst App: React.FunctionComponent = () => {\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch(cubeActions.resetCube());\n    }, []);\n\n    return (\n        <div className=\"app\">\n            <Interface />\n            <RubiksCube />\n        </div>\n    );\n};\n\nexport default App;\n","import { ofType } from 'redux-observable';\nimport { cubeActions } from './CubeActions';\nimport { map, withLatestFrom } from 'rxjs/operators';\nimport { AppEpic } from '../States';\nimport { generateCubicles } from '../../cube/CubeUtils';\nimport { EMPTY } from 'rxjs';\nimport { COLOR_MAP } from '../LocalStorage';\n\nconst updateCubicles: AppEpic = (action$, state$) =>\n    action$.pipe(\n        ofType(cubeActions.setCubeDimension.type, cubeActions.resetCube.type),\n        withLatestFrom(state$),\n        map(([_, state]) =>\n            cubeActions.updateCubicles(\n                generateCubicles(\n                    state.cube.size / state.cube.dimension,\n                    state.cube.gapFactor,\n                    state.cube.dimension\n                )\n            )\n        )\n    );\n\nconst saveColors: AppEpic = (action$, state$) => {\n    action$\n        .pipe(\n            ofType(cubeActions.setColor.type, cubeActions.resetColors.type),\n            withLatestFrom(state$)\n        )\n        .subscribe(([_, state]) => {\n            const colorMap = state.cube.colorMap;\n            localStorage.setItem(COLOR_MAP, JSON.stringify(colorMap));\n        });\n\n    return EMPTY;\n};\n\nexport const cubeEpics = [updateCubicles, saveColors];\n","import { AppEpic } from '../States';\nimport { playerActions } from './PlayerActions';\nimport {\n    concatMap,\n    delay,\n    filter,\n    first,\n    map,\n    mapTo,\n    withLatestFrom,\n} from 'rxjs/operators';\nimport { makeNotationParser } from '../../cube/algorithms/Parser';\nimport { cubeActions } from '../cube/CubeActions';\nimport { fromEvent, merge, Subject } from 'rxjs';\nimport {\n    isLoopedRotationCommands,\n    RotationCommand,\n    SingleRotationCommand,\n} from '../../cube/algorithms/RotationCommand';\nimport Maybe from '../../utils/Maybe';\nimport { PlayerStatus } from './PlayerState';\nimport { Action } from 'redux';\nimport { ofType } from 'redux-observable';\n\nconst parseNotation: AppEpic = (action$, state$) =>\n    action$.pipe(\n        ofType(\n            cubeActions.setCubeDimension.type,\n            playerActions.updateNotation.type\n        ),\n        withLatestFrom(state$),\n        map(([_, state]) => {\n            const parser = makeNotationParser(state.cube.dimension);\n            return parser.rotationCommands.parse(state.player.notation);\n        }),\n        map(playerActions.parsedNotation)\n    );\n\nfunction* singleRotationCommandGenerator(\n    rotationCommands: RotationCommand[]\n): Generator<SingleRotationCommand> {\n    for (const rotationCommand of rotationCommands) {\n        if (isLoopedRotationCommands(rotationCommand)) {\n            for (let i = 0; i < rotationCommand.iterations; i++) {\n                yield* singleRotationCommandGenerator(rotationCommand.commands);\n            }\n        } else {\n            yield rotationCommand;\n        }\n    }\n}\n\nconst player: AppEpic = (action$, state$) => {\n    const play$ = action$.pipe(filter(playerActions.play.match));\n    const unPause$ = action$.pipe(filter(playerActions.unPause.match));\n    const stop$ = action$.pipe(filter(playerActions.stop.match));\n\n    let rotationCommandGenerator: Maybe<Generator<\n        SingleRotationCommand,\n        SingleRotationCommand\n    >> = Maybe.none();\n\n    const rotationCommandDelay$ = new Subject<boolean>();\n\n    play$\n        .pipe(\n            filter((_) => rotationCommandGenerator.isNone()),\n            map((it) => it.payload),\n            map(singleRotationCommandGenerator)\n        )\n        .subscribe((it) => {\n            rotationCommandGenerator = Maybe.some(it);\n            rotationCommandDelay$.next(true);\n        });\n\n    unPause$.subscribe((_) => rotationCommandDelay$.next(true));\n\n    stop$.subscribe((_) => {\n        rotationCommandGenerator = Maybe.none();\n    });\n\n    const setCurrentRotationCommand$ = rotationCommandDelay$.pipe(\n        withLatestFrom(state$),\n        filter(([_, state]) => state.player.status === PlayerStatus.PLAYING),\n        map((_) =>\n            rotationCommandGenerator\n                .map((it) => it.next().value)\n                .map<Action>(playerActions.setCurrentRotationCommand)\n                .unwrapOr(playerActions.stop)\n        )\n    );\n\n    const transitionEnd$ = fromEvent<TransitionEvent>(\n        window,\n        'transitionend'\n    ).pipe(\n        filter(\n            (event) =>\n                event.propertyName === 'transform' &&\n                (event.target as HTMLElement).className.includes(\n                    'rubiks-cube__cubicle'\n                )\n        )\n    );\n\n    const applyRotationCommand$ = action$.pipe(\n        filter(playerActions.setCurrentRotationCommand.match),\n        map((action) => [action.payload]),\n        map(cubeActions.applyRotationCommands),\n        concatMap((action) => transitionEnd$.pipe(first(), mapTo(action)))\n    );\n\n    action$\n        .pipe(filter(cubeActions.applyRotationCommands.match), delay(10))\n        .subscribe((_) => rotationCommandDelay$.next(true));\n\n    return merge(setCurrentRotationCommand$, applyRotationCommand$);\n};\n\nexport const playerEpics = [parseNotation, player];\n","import { combineEpics, createEpicMiddleware } from 'redux-observable';\nimport { cubeEpics } from './cube/CubeEpics';\nimport { AppState } from './States';\nimport { playerEpics } from './player/PlayerEpics';\nimport { Action } from 'redux';\n\nconst epics = combineEpics(...cubeEpics, ...playerEpics);\nexport const epicMiddleWare = createEpicMiddleware<Action, Action, AppState>();\n\nexport const setupEpics = () => epicMiddleWare.run(epics);\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport { epicMiddleWare, setupEpics } from './Epics';\nimport { reducer } from './States';\n\nconst middleware = [...getDefaultMiddleware({ thunk: false }), epicMiddleWare];\n\nexport const setupStore = () => {\n    const store = configureStore({ reducer, middleware });\n    setupEpics();\n    return store;\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './tsx/App';\nimport { Provider } from 'react-redux';\nimport { setupStore } from './tsx/states/Store';\nimport './tsx/cube/algorithms/Parser';\n\nwindow.addEventListener('load', function load() {\n    window.removeEventListener('load', load);\n\n    const store = setupStore();\n\n    ReactDOM.render(\n        <Provider store={store}>\n            <App />\n        </Provider>,\n        document.getElementById('root')\n    );\n});\n"],"sourceRoot":""}